{"version":3,"sources":["config.js","context/AuthContext.js","components/PrivateRoute.js","img/landing_pic.png","views/Home.js","img/avatar1.png","context/FavSavContext.js","context/PicsArrContext.js","components/AppBarComponent.js","img/confirm.png","context/MarkerContext.js","components/NatureSpotsListCards.js","context/NatureSpotsContext.js","views/NatureSpots.js","components/GoBack.js","img/nouploads.gif","components/UserHeader.js","context/MyPicFavPicContext.js","components/FavSav.js","components/Images.js","img/noreview.gif","context/CommentsContext.js","components/UpdateForm.js","components/Comment.js","components/CommentForm.js","components/ComContents.js","components/Comments.js","components/UploadButton.js","views/SpotDetails.js","components/ProfileSection.js","components/PicModal.js","components/ImgsWithProp.js","img/nofavorites.gif","components/MyPageImages.js","views/MyPage.js","context/SavedArrContext.js","components/SavLink.js","components/SavFooter.js","components/SavMatImg.js","components/SavedMatchImgs.js","img/nosaves.gif","views/SavedToMatch.js","img/nomatchings.gif","context/OtherUserContext.js","components/OtherUserProfile.js","components/OtherUserFooter.js","components/OtherUserImg.js","views/OtherUser.js","views/Authentication/Signup.js","views/Authentication/Login.js","views/Authentication/UpdateProfile.js","views/Authentication/ConfirmReg.js","views/Authentication/ForgotPass.js","views/Authentication/ResetPass.js","App.js","reportWebVitals.js","index.js","components/styles/Images.module.css"],"names":["module","exports","serverURL","require","initAuthContext","userInfo","isUserThere","AuthContext","createContext","AuthProvider","children","useState","setUserInfo","setIsUserThere","token","window","localStorage","getItem","useEffect","a","console","log","config","headers","Authorization","axios","get","res","data","getUserInfo","Provider","value","PrivateRoute","Component","component","rest","useContext","render","props","to","useStyles","makeStyles","background","TreePic","backgroundSize","height","color","display","flexDirection","alignItems","buttonWidth","width","Home","classes","Box","className","mt","fontWeight","Typography","variant","style","textDecoration","Button","initFavSavContext","favIdArr","savIdArr","myPicIdArr","matchedFavIdArr","matchedSaveIdArr","matchedMyPicIdArr","FavSavContext","FavSavProvider","setFavIdArr","setSavIdArr","setMyPicIdArr","setMatchedFavIdArr","setMatchedSaveIdArr","setMatchedMyPicIdArr","initPicsArrContext","naturespot","picturesArr","picsIdArr","fetch","PicsArrContext","PicsArrProvider","setNaturespot","setPicturesArr","setPicsIdArr","setFetch","theme","root","flexGrow","logo","borderRadius","menuButton","marginRight","spacing","title","fullList","activeBg","backgroundColor","grey","AppBarComponent","location","useLocation","left","state","setState","active","setActive","history","useHistory","selectedIndex","setSelectedIndex","toggleDrawer","anchor","open","event","type","key","handleLogout","user","_id","removeItem","push","post","pathname","includes","favoritePics","savedPics","AppBar","position","Toolbar","IconButton","edge","aria-label","onClick","green","Drawer","onClose","clsx","list","role","onKeyDown","m","justifyContent","mr","alt","avatarUrl","src","AppLogo","teal","username","Divider","List","ListItem","button","selected","ListItemText","primary","Fragment","initMarkerContext","viewport","currentPlaceId","MarkerContext","MarkerProvider","setViewport","setCurrentPlaceId","latitude","longitude","zoom","cardWidth","cardGrid","NatureSpotsListCards","natureSpots","filteredArr","setFilteredArr","loading","setLoading","thumbnail","spot","images","length","url","NoImages","TextField","id","label","onChange","e","filArr","filter","s","toLowerCase","target","handleSearch","flexWrap","minHeight","map","Card","CardActionArea","CardMedia","CardContent","gutterBottom","desc","slice","CardActions","size","lat","long","scrollTo","initNatureSpotsContext","newAdded","NatureSpotsContext","NatureSpotsProvider","setNatureSpots","setNewAdded","getNatureSpots","useStyle","flexColumn","comeTop","zIndex","fontSize","borderBottom","margin","marginBottom","marginTop","textWidth","white","blueGrey","leftFloat","float","NatureSpots","newSpot","setNewSpot","setTitle","setDesc","handleSubmit","preventDefault","newSpotPost","rating","Grid","container","direction","justify","item","xs","mapboxApiAccessToken","process","onViewportChange","nextViewport","mapStyle","onDblClick","lngLat","offsetLeft","offsetTop","cursor","closeButton","closeOnClick","vairant","align","borderColor","Rating","name","readOnly","precision","format","createdAt","onSubmit","multiline","rows","marginFlex","marginLeft","GoBack","goBack","small","UserHeader","pic","currentUser","setCurrentUser","headerContents","ml","mb","Avatar","author","Paper","initMyPicFavPicContext","myPicsArr","favPicsArr","MyPicFavPicContext","MyPicFavPicProvider","setMyPicsArr","setFavPicsArr","action","padding","FavSav","showIcon","kind","kindObj","icon1","icon2","red","icon3","showNum","likes","matchedArr","setMatchedIdArr","saved","disabled","handleFavSav","picUrl","removeRoute","addRoute","arr","setArr","picObjArr","addremove","route","body","natureSpotId","userId","origUrl","imageUrl","imageId","picObjIndex","findIndex","obj","oldArray","handleDelete","p","disableSpacing","maxWidth","media","paddingTop","Images","sx","overflowY","breakpointCols","default","1100","700","moduleClasses","myMasonryGrid","columnClassName","myMasonryGridColumn","image","Object","keys","NoUploads","initCommentsContext","commentsArr","ratingsArr","avarageRating","writeReview","writeUpdate","clickedIndex","CommentsContext","CommentsProvider","setCommentsArr","setRatingsArr","setAvarageRating","setWriteReview","setWriteUpdate","setClickedIndex","modal","paper","palette","border","boxShadow","shadows","textField","UpdateForm","comment","index","spotId","useParams","oldReview","review","setReview","oldRating","setRating","handleClose","newArr","getAve","Number","c","reduce","b","toFixed","newReview","newRating","updateRat","natId","averageRating","indexNat","newSpotsArr","Modal","aria-labelledby","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","startIcon","defaultValue","newValue","marginIcon","Comment","newAve","amber","substring","blue","CommentForm","submitForm","newComToShow","Date","toISOString","oldArr","reverse","new","RevContents","openWriteReview","sumRating","average","NoReview","Comments","React","setOpen","aria-describedby","maxHeight","overflow","input","card","cancel","UploadButton","natureId","preview","setPreview","file","setFile","fileToSend","setFileToSend","handleFile","URL","createObjectURL","files","uploadImg","authorId","postReq","newPostObj","newImage","submitFile","Error","formData","FormData","append","Location","accept","multiple","htmlFor","boxWidth","center","SpotDetails","hideDesc","setHideDesc","longDesc","displayDesc","showMoreDesc","userData","savedIds","originalImage","myPics","transitionDuration","maxW","noPadding","lime","lightBlue","ProfileSection","PicModal","setSpot","handleOpen","ImgsWithProp","picsArr","MyPageImages","showFavPics","NoFavs","IOSSwitch","withStyles","switchBase","transform","common","opacity","thumb","track","info","light","transition","transitions","create","checked","focusVisible","Switch","focusVisibleClassName","disableRipple","MyPage","setFavMyPics","FormGroup","FormControlLabel","control","initSavedArrContext","savedArr","spotsArr","SavedArrContext","SavedArrProvider","setSavedArr","setSpotsArr","SavLink","cyan","flex","IconContainer","other","SavFooter","deleteSaved","picId","matchedImage","reset","num","IconContainerComponent","matching","SavMatImg","yourPic","setYourPic","SavedMatchImgs","SavedToMatch","NoSaves","initOtherUserContext","otherUser","havMatPicArr","giveMatPicArr","OtherUserContext","OtherUserProvider","setOtherUser","setHavMatPicArr","setGiveMatPicArr","OtherUserProfile","OtherUserFooter","otherUserId","toggleGive","setToggleGive","hideButton","setHideButton","handleGiveMatching","arr1","i","userToGet","userToGive","savPicId","updatedArr","getBackFrom","userToGetBack","OtherUserImgs","original","setOriginal","OtherUser","setUserId","getOtherUserInfo","NoMatchings","Image","avatar","form","submit","textColor","specialOutline","borderWidth","Signup","emailRef","useRef","userNameRef","passwordRef","passwordConfirmRef","error","setError","DefaultAvatar","showCancel","setShowCancel","current","newUser","email","password","re","test","Container","CssBaseline","Logo","noValidate","Alert","severity","InputProps","notchedOutline","autoComplete","required","fullWidth","autoFocus","inputRef","setItem","undefined","UpdateProfile","setUser","updatedUser","oldEmail","confirm","imgSize","ConfirmReg","ConfirmImg","boxSize","teal900","ForgotPass","setEmail","sent","setSent","put","newPass","setNewPass","confirmPass","setConfirmPass","resetLink","createMuiTheme","main","secondary","typography","fontFamily","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","responsiveFontSizes","App","ThemeProvider","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.17407788.chunk.js","sourcesContent":["module.exports = {\n  serverURL:\n    process.env.NODE_ENV === 'development'\n      ? 'http://localhost:5000/api'\n      : 'https://nature-go-app.herokuapp.com//api',\n};\n","// import jwt_decode from 'jwt-decode';\n\n// 1. import the modules\nimport React, { createContext, useState, useEffect } from 'react';\nimport axios from 'axios';\nconst serverURL = require('../config').serverURL;\n// 2. initialize the context\nconst initAuthContext = {\n  userInfo: [],\n  isUserThere: false,\n};\n// 3. create context\nexport const AuthContext = createContext(initAuthContext);\n\n// 4. make provider => value / children\nexport const AuthProvider = ({ children }) => {\n  const [userInfo, setUserInfo] = useState(initAuthContext.userInfo);\n  const [isUserThere, setIsUserThere] = useState(initAuthContext.isUserThere);\n\n  const token = window.localStorage.getItem('token');\n\n  useEffect(() => {\n    const getUserInfo = async () => {\n      if (token !== null) {\n        console.log(token !== null, userInfo);\n        const config = {\n          headers: { Authorization: `Bearer ${token}` },\n        };\n        const res = await axios.get(serverURL + '/users/profile', config);\n        setUserInfo(res.data);\n        console.log(\"I'm res.data from AuthContext\", res.data);\n      }\n    };\n    getUserInfo();\n  }, []);\n\n  return (\n    <AuthContext.Provider\n      value={{\n        userInfo,\n        setUserInfo,\n        isUserThere,\n        setIsUserThere,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import React, { useContext } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthContext';\n\nexport default function PrivateRoute({ component: Component, ...rest }) {\n  const { userInfo } = useContext(AuthContext);\n\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        return userInfo ? <Component {...props} /> : <Redirect to=\"/login\" />;\n      }}\n    ></Route>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/landing_pic.fb35909e.png\";","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TreePic from '../img/landing_pic.png';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { Link } from 'react-router-dom';\n\nconst useStyles = makeStyles(() => ({\n  background: {\n    background: ` linear-gradient(\n      rgba(0, 0, 0, 0.55), \n      rgba(0, 0, 0, 0.55)\n    ),url(${TreePic})`,\n    backgroundSize: 'cover',\n    height: '100vh',\n    color: '#f5f5f5',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  buttonWidth: {\n    width: 150,\n  },\n}));\n\nexport default function Home() {\n  const classes = useStyles();\n  return (\n    <Box className={classes.background}>\n      <Box mt={20} fontWeight={900}>\n        <Typography variant=\"h1\"> NATURE GO</Typography>\n        <Typography variant=\"h4\">Find  Share  Nature</Typography>\n      </Box>\n      <Box mt={10}>\n        <Link to=\"/naturespots\" style={{ textDecoration: 'none' }}>\n          <Button\n            className={classes.buttonWidth}\n            variant=\"contained\"\n            color=\"primary\"\n          >\n            Nature MAP\n          </Button>\n        </Link>\n      </Box>\n      <Box mt={4}>\n        <Link to=\"/signup\" style={{ textDecoration: 'none' }}>\n          <Button\n            className={classes.buttonWidth}\n            variant=\"contained\"\n            color=\"secondary\"\n          >\n            Login / Signup\n          </Button>\n        </Link>\n      </Box>\n    </Box>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/avatar1.473e89c6.png\";","// 1. import the modules\nimport React, { createContext, useState, useEffect } from 'react';\n\n// 2. initialize the context\nconst initFavSavContext = {\n  favIdArr: [],\n  savIdArr: [],\n  myPicIdArr: [],\n  matchedFavIdArr: [],\n  matchedSaveIdArr: [],\n  matchedMyPicIdArr: [],\n};\n// 3. create context\nexport const FavSavContext = createContext(initFavSavContext);\n\n// 4. make provider => value / children\nexport const FavSavProvider = ({ children }) => {\n  const [favIdArr, setFavIdArr] = useState(initFavSavContext.favIdArr);\n  const [savIdArr, setSavIdArr] = useState(initFavSavContext.savIdArr);\n  const [myPicIdArr, setMyPicIdArr] = useState(initFavSavContext.myPicIdArr);\n  const [matchedFavIdArr, setMatchedFavIdArr] = useState(\n    initFavSavContext.matchedFavIdArr\n  );\n  const [matchedSaveIdArr, setMatchedSaveIdArr] = useState(\n    initFavSavContext.matchedSaveIdArr\n  );\n  const [matchedMyPicIdArr, setMatchedMyPicIdArr] = useState(\n    initFavSavContext.matchedMyPicIdArr\n  );\n\n  return (\n    <FavSavContext.Provider\n      value={{\n        favIdArr,\n        setFavIdArr,\n        savIdArr,\n        setSavIdArr,\n        matchedFavIdArr,\n        setMatchedFavIdArr,\n        matchedSaveIdArr,\n        setMatchedSaveIdArr,\n        myPicIdArr,\n        setMyPicIdArr,\n        matchedMyPicIdArr,\n        setMatchedMyPicIdArr,\n      }}\n    >\n      {children}\n    </FavSavContext.Provider>\n  );\n};\n","// 1. import the modules\nimport React, { createContext, useState, useEffect } from 'react';\nimport axios from 'axios';\n\n// 2. initialize the context\nconst initPicsArrContext = {\n  naturespot: '',\n  picturesArr: [],\n  picsIdArr: [],\n  fetch: false,\n};\n// 3. create context\nexport const PicsArrContext = createContext(initPicsArrContext);\n\n// 4. make provider => value / children\nexport const PicsArrProvider = ({ children }) => {\n  const [naturespot, setNaturespot] = useState(initPicsArrContext.naturespot);\n  const [picturesArr, setPicturesArr] = useState(\n    initPicsArrContext.picturesArr\n  );\n  const [picsIdArr, setPicsIdArr] = useState(initPicsArrContext.picsIdArr);\n  const [fetch, setFetch] = useState(initPicsArrContext.fetch);\n\n  useEffect(async () => {\n    // const res = await axios.get('/natimages', {\n    //   params: { naturespotId: naturespot },\n    // });\n    // setPicturesArr(res.data);\n    console.log('naturespot', naturespot);\n    console.log('picturesArr', picturesArr);\n  }, []);\n\n  return (\n    <PicsArrContext.Provider\n      value={{\n        naturespot,\n        setNaturespot,\n        picturesArr,\n        setPicturesArr,\n        fetch,\n        setFetch,\n        picsIdArr,\n        setPicsIdArr,\n      }}\n    >\n      {children}\n    </PicsArrContext.Provider>\n  );\n};\n","import React, { useEffect, useState, useContext } from 'react';\nimport axios from 'axios';\nimport AppBar from '@material-ui/core/AppBar';\nimport AppLogo from '../img/avatar1.png';\nimport Box from '@material-ui/core/Box';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ExploreIcon from '@material-ui/icons/Explore';\nimport LoyaltyIcon from '@material-ui/icons/Loyalty';\nimport BookmarksIcon from '@material-ui/icons/Bookmarks';\nimport grey from '@material-ui/core/colors/grey';\nimport teal from '@material-ui/core/colors/teal';\nimport green from '@material-ui/core/colors/green';\nimport { Link, useLocation, useHistory } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthContext';\nimport { FavSavContext } from '../context/FavSavContext';\nimport { PicsArrContext } from '../context/PicsArrContext';\nconst serverURL = require('../config').serverURL;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  logo: { width: '30px', height: '30px', borderRadius: '20px' },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n\n  fullList: {\n    width: 'auto',\n  },\n  activeBg: {\n    backgroundColor: grey[300],\n  },\n}));\n\nexport default function AppBarComponent() {\n  const classes = useStyles();\n  const location = useLocation();\n  const [state, setState] = useState({\n    left: false,\n  });\n  const [active, setActive] = useState('');\n  const { userInfo, setUserInfo, isUserThere, setIsUserThere } = useContext(\n    AuthContext\n  );\n  const {\n    setFavIdArr,\n\n    setSavIdArr,\n  } = useContext(FavSavContext);\n  const { fetch } = useContext(PicsArrContext);\n  const history = useHistory();\n  const [selectedIndex, setSelectedIndex] = useState(0);\n\n  const toggleDrawer = (anchor, open) => (event) => {\n    if (\n      event.type === 'keydown' &&\n      (event.key === 'Tab' || event.key === 'Shift')\n    ) {\n      return;\n    }\n\n    setState({ ...state, [anchor]: open });\n  };\n\n  const handleLogout = async () => {\n    const user = { _id: userInfo._id };\n    setUserInfo([]);\n    setIsUserThere(false);\n    window.localStorage.removeItem('token');\n    history.push('/');\n    await axios.post(serverURL + '/users/logout', user);\n  };\n\n  useEffect(() => {\n    if (location.pathname === '/naturespots') {\n      setActive('naturespots');\n      setSelectedIndex(0);\n    }\n    if (location.pathname.includes('/mypage')) {\n      setActive('mypage');\n      setSelectedIndex(1);\n    }\n    if (location.pathname.includes('/savedtomatch')) {\n      setActive('savedtomatch');\n      setSelectedIndex(2);\n    }\n\n    const token = window.localStorage.getItem('token');\n    const getUserInfo = async () => {\n      console.log(isUserThere);\n      if (token !== null) {\n        const config = {\n          headers: { Authorization: `Bearer ${token}` },\n        };\n        const res = await axios.get(serverURL + '/users/profile', config);\n        setUserInfo(res.data);\n        await setFavIdArr(res.data.favoritePics);\n        await setSavIdArr(res.data.savedPics);\n        setIsUserThere(true);\n      }\n    };\n\n    getUserInfo();\n  }, [fetch]);\n\n  const list = (anchor) => (\n    <div\n      className={clsx(classes.list, {\n        [classes.fullList]: anchor === 'top' || anchor === 'bottom',\n      })}\n      role=\"presentation\"\n      onClick={toggleDrawer(anchor, false)}\n      onKeyDown={toggleDrawer(anchor, false)}\n    >\n      <Box\n        m={2}\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        <Box mr={2}>\n          {isUserThere ? (\n            <img\n              alt={userInfo.avatarUrl}\n              className={classes.logo}\n              src={userInfo.avatarUrl}\n            />\n          ) : (\n            <img alt=\"logo\" className={classes.logo} src={AppLogo} />\n          )}\n        </Box>\n        {isUserThere ? (\n          <Typography style={{ color: teal[800] }}>\n            Hello {userInfo.username}\n          </Typography>\n        ) : (\n          <Typography style={{ color: teal[800] }}>Hello</Typography>\n        )}\n      </Box>\n      <Divider />\n      <List>\n        <Link style={{ textDecoration: 'none' }} to=\"/naturespots\">\n          <ListItem button key=\"Nature Spots\" selected={selectedIndex === 0}>\n            <Box mr={1}>\n              <ExploreIcon color=\"primary\" />\n            </Box>\n            <ListItemText\n              primary={\n                <Typography type=\"body2\" style={{ color: '#008080' }}>\n                  Nature Spots\n                </Typography>\n              }\n            />\n          </ListItem>\n        </Link>\n        {isUserThere && (\n          <React.Fragment>\n            {' '}\n            <Link\n              style={{ textDecoration: 'none' }}\n              to={`/mypage/${userInfo._id}`}\n            >\n              <ListItem button key=\"My Page\" selected={selectedIndex === 1}>\n                <Box mr={1}>\n                  <LoyaltyIcon color=\"primary\" />\n                </Box>\n                <ListItemText\n                  primary={\n                    <Typography type=\"body2\" style={{ color: '#008080' }}>\n                      My Page\n                    </Typography>\n                  }\n                />\n              </ListItem>\n            </Link>\n            <Link\n              style={{ textDecoration: 'none' }}\n              to={`/savedtomatch/${userInfo._id}`}\n            >\n              <ListItem\n                button\n                key=\"Saved to Match\"\n                selected={selectedIndex === 2}\n              >\n                <Box mr={1}>\n                  <BookmarksIcon color=\"primary\" />\n                </Box>\n                <ListItemText\n                  primary={\n                    <Typography type=\"body2\" style={{ color: '#008080' }}>\n                      Saved to Match\n                    </Typography>\n                  }\n                />\n              </ListItem>\n            </Link>\n          </React.Fragment>\n        )}\n        {isUserThere ? (\n          <ListItem onClick={handleLogout}>\n            <ListItemText\n              primary={\n                <Typography type=\"body2\" style={{ color: '#008080' }}>\n                  Logout\n                </Typography>\n              }\n            />\n          </ListItem>\n        ) : (\n          <Link style={{ textDecoration: 'none' }} to=\"/login\">\n            <ListItem>\n              {' '}\n              <ListItemText\n                primary={\n                  <Typography type=\"body2\" style={{ color: '#008080' }}>\n                    Login\n                  </Typography>\n                }\n              />\n            </ListItem>\n          </Link>\n        )}\n      </List>\n    </div>\n  );\n\n  return (\n    <div>\n      <div className={classes.root}>\n        <AppBar position=\"static\">\n          <Toolbar>\n            <IconButton\n              edge=\"start\"\n              className={classes.menuButton}\n              color=\"inherit\"\n              aria-label=\"menu\"\n              onClick={toggleDrawer('left', true)}\n            >\n              <MenuIcon style={{ color: green[900] }} />\n            </IconButton>\n            <Drawer\n              anchor=\"left\"\n              open={state['left']}\n              onClose={toggleDrawer('left', false)}\n            >\n              {list('left')}\n            </Drawer>\n            <Box>\n              {active === 'naturespots' && (\n                <Typography\n                  variant=\"h6\"\n                  className={classes.title}\n                  style={{ color: teal[900] }}\n                >\n                  Nature Spots\n                </Typography>\n              )}\n              {active === 'mypage' && (\n                <Typography\n                  variant=\"h6\"\n                  className={classes.title}\n                  style={{ color: teal[900] }}\n                >\n                  My Page\n                </Typography>\n              )}\n              {active === 'savedtomatch' && (\n                <Typography\n                  variant=\"h6\"\n                  className={classes.title}\n                  style={{ color: teal[900] }}\n                >\n                  Saved Pics\n                </Typography>\n              )}\n            </Box>\n\n            {/* {userInfo ? (\n              <Button size=\"small\">\n                <Typography variant=\"h6\" color=\"inherit\">\n                  Logout\n                </Typography>\n              </Button>\n            ) : (\n              <Link style={{ textDecoration: 'none' }} to=\"/login\">\n                <Typography variant=\"h6\" color=\"inherit\">\n                  Login\n                </Typography>\n              </Link>\n            )} */}\n          </Toolbar>\n        </AppBar>\n      </div>\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/confirm.c9348c34.png\";","// 1. import the modules\nimport React, { createContext, useState, useEffect } from 'react';\n// 2. initialize the context\nconst initMarkerContext = {\n  viewport: {},\n  currentPlaceId: null,\n};\n// 3. create context\nexport const MarkerContext = createContext(initMarkerContext);\n\n// 4. make provider => value / children\nexport const MarkerProvider = ({ children }) => {\n  const [viewport, setViewport] = useState(initMarkerContext.viewport);\n  const [currentPlaceId, setCurrentPlaceId] = useState(\n    initMarkerContext.currentPlaceId\n  );\n\n  useEffect(() => {\n    setViewport({\n      width: '100vw',\n      height: '70vh',\n      latitude: 52.52,\n      longitude: 13.405,\n      zoom: 10,\n    });\n  }, []);\n\n  return (\n    <MarkerContext.Provider\n      value={{\n        viewport,\n        setViewport,\n        currentPlaceId,\n        setCurrentPlaceId,\n      }}\n    >\n      {children}\n    </MarkerContext.Provider>\n  );\n};\n","import React, { useContext, useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport NoImages from '../img/confirm.png';\nimport Box from '@material-ui/core/Box';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport { Link } from 'react-router-dom';\nimport { MarkerContext } from '../context/MarkerContext';\n\nconst useStyles = makeStyles({\n  cardWidth: { width: '300px' },\n  cardGrid: {\n    height: 370,\n  },\n});\n\nexport default function NatureSpotsListCards({ natureSpots }) {\n  const classes = useStyles();\n  const {\n    viewport,\n    setViewport,\n    currentPlaceId,\n    setCurrentPlaceId,\n  } = useContext(MarkerContext);\n  const [filteredArr, setFilteredArr] = useState(natureSpots);\n  const [loading, setLoading] = useState(true);\n\n  const showOnMap = (id, lat, long) => {\n    window.scrollTo(0, 0);\n    setCurrentPlaceId(id);\n    setViewport({ ...viewport, latitude: lat, longitude: long });\n  };\n\n  const thumbnail = (spot) => {\n    return spot.images.length > 0 ? spot.images[0].url : NoImages;\n  };\n\n  const handleSearch = (e) => {\n    const filArr = natureSpots.filter((s) =>\n      s.title.toLowerCase().includes(e.target.value)\n    );\n    setFilteredArr(filArr);\n  };\n\n  useEffect(() => {\n    setFilteredArr(natureSpots);\n    setLoading(false);\n  }, []);\n\n  return (\n    <React.Fragment>\n      <Box mt={3}>\n        <Typography variant=\"h6\" color=\"secondary\">\n          Search for a spot\n        </Typography>\n        <TextField\n          id=\"standard-basic\"\n          label=\"type here\"\n          onChange={(e) => handleSearch(e)}\n        />\n      </Box>\n      <Box\n        display=\"flex\"\n        flexWrap=\"wrap\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        minHeight=\"100vh\"\n      >\n        {!loading &&\n          filteredArr.map((spot) => (\n            <Box m={2} key={spot._id}>\n              <Card className={classes.cardWidth}>\n                <Link\n                  to={{\n                    pathname: `details/${spot._id}`,\n                    state: {\n                      spot,\n                    },\n                  }}\n                  style={{ textDecoration: 'none' }}\n                >\n                  <CardActionArea>\n                    <CardMedia\n                      component=\"img\"\n                      alt={spot.title}\n                      height=\"220\"\n                      src={thumbnail(spot)}\n                      title={spot.title}\n                    />\n                    <CardContent>\n                      <Typography\n                        gutterBottom\n                        color=\"secondary\"\n                        variant=\"h5\"\n                        component=\"h2\"\n                      >\n                        {spot.title}\n                      </Typography>\n                      <Typography\n                        variant=\"body2\"\n                        color=\"textSecondary\"\n                        component=\"p\"\n                      >\n                        {spot.desc.length > 80\n                          ? spot.desc.slice(0, 80) + '...'\n                          : spot.desc}\n                      </Typography>\n                    </CardContent>\n                  </CardActionArea>\n                </Link>\n                <CardActions>\n                  <Button\n                    size=\"small\"\n                    color=\"primary\"\n                    onClick={() => showOnMap(spot._id, spot.lat, spot.long)}\n                  >\n                    On Map\n                  </Button>\n                  <Link\n                    to={{\n                      pathname: `details/${spot._id}`,\n                      state: {\n                        spot,\n                      },\n                    }}\n                    // to={`details/${spot._id}`}\n                    style={{ textDecoration: 'none' }}\n                  >\n                    <Button size=\"small\" color=\"primary\">\n                      Learn More\n                    </Button>\n                  </Link>\n                </CardActions>\n              </Card>\n            </Box>\n          ))}\n      </Box>\n    </React.Fragment>\n  );\n}\n","// 1. import the modules\nimport React, { createContext, useState, useEffect } from 'react';\nimport axios from 'axios';\n// 2. initialize the context\nconst initNatureSpotsContext = {\n  natureSpots: [],\n  newAdded: false,\n};\nconst serverURL = require('../config').serverURL;\n// 3. create context\nexport const NatureSpotsContext = createContext(initNatureSpotsContext);\n\n// 4. make provider => value / children\nexport const NatureSpotsProvider = ({ children }) => {\n  const [natureSpots, setNatureSpots] = useState(\n    initNatureSpotsContext.natureSpots\n  );\n  const [newAdded, setNewAdded] = useState(initNatureSpotsContext.newAdded);\n\n  useEffect(() => {\n    const getNatureSpots = async () => {\n      try {\n        const res = await axios.get(serverURL + '/naturespots');\n        setNatureSpots(res.data);\n        console.log('naturespotscontext', res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getNatureSpots();\n  }, [newAdded]);\n\n  return (\n    <NatureSpotsContext.Provider\n      value={{\n        natureSpots,\n        setNatureSpots,\n        newAdded,\n        setNewAdded,\n      }}\n    >\n      {children}\n    </NatureSpotsContext.Provider>\n  );\n};\n","import React, { useState, useContext, useEffect } from 'react';\nimport AppBarComponent from '../components/AppBarComponent';\nimport NatureSpotsListCards from '../components/NatureSpotsListCards';\nimport axios from 'axios';\nimport { format } from 'timeago.js';\nimport ReactMapGL, { Marker, Popup } from 'react-map-gl';\nimport Geocoder from 'react-mapbox-gl-geocoder';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport blueGrey from '@material-ui/core/colors/blueGrey';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport Room from '@material-ui/icons/Room';\nimport Rating from '@material-ui/lab/Rating';\nimport { makeStyles } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthContext';\nimport { NatureSpotsContext } from '../context/NatureSpotsContext';\nimport { MarkerContext } from '../context/MarkerContext';\nconst serverURL = require('../config').serverURL;\n\nconst mapBoxToken = process.env.REACT_APP_MAPBOX_TOKEN;\n\nconst useStyle = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: '100vw',\n    height: '100vh',\n  },\n\n  flexColumn: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n  },\n  comeTop: { zIndex: '1' },\n  label: {\n    width: 'max-content',\n    color: 'teal',\n    fontSize: '13px',\n    borderBottom: '1px dashed teal',\n    margin: '3px 0',\n    marginBottom: '10px',\n  },\n  marginTop: {\n    marginTop: theme.spacing(2),\n  },\n  marginBottom: { marginBottom: theme.spacing(10) },\n  textWidth: {\n    width: 150,\n  },\n  white: {\n    backgroundColor: blueGrey[500],\n    color: blueGrey[50],\n  },\n  leftFloat: {\n    float: 'right',\n    marginTop: 5,\n    marginRight: 5,\n  },\n}));\n\nexport default function NatureSpots() {\n  const classes = useStyle();\n  // const [currentUser, setCurrentUser] = useState(null);\n  // const [natureSpots, setNatureSpots] = useState([]);\n  // const [currentPlaceId, setCurrentPlaceId] = useState(null);\n  const [newSpot, setNewSpot] = useState(null);\n  const [rating, setRating] = useState(3);\n  const [title, setTitle] = useState(null);\n  const [desc, setDesc] = useState(null);\n  const { userInfo, isUserThere } = useContext(AuthContext);\n  const { natureSpots, setNatureSpots, setNewAdded } = useContext(\n    NatureSpotsContext\n  );\n  const {\n    viewport,\n    setViewport,\n    currentPlaceId,\n    setCurrentPlaceId,\n  } = useContext(MarkerContext);\n\n  const onSelected = (viewport) => {\n    setViewport(viewport);\n  };\n\n  const handleMarkerClick = (id, lat, long) => {\n    setCurrentPlaceId(id);\n    setViewport({ ...viewport, latitude: lat, longitude: long });\n  };\n\n  const handleAddClick = (e) => {\n    const [long, lat] = e.lngLat;\n    setNewSpot({\n      lat,\n      long,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setNewAdded(false);\n    const newSpotPost = {\n      user: userInfo._id,\n      title,\n      desc,\n      rating: 0,\n      lat: newSpot.lat,\n      long: newSpot.long,\n    };\n\n    try {\n      const res = await axios.post(serverURL + '/naturespots', newSpotPost);\n      setNatureSpots([...natureSpots, res.data]);\n      setNewAdded(true);\n      setNewSpot(null);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <React.Fragment>\n      {' '}\n      <AppBarComponent />\n      <Grid\n        container\n        spacing={0}\n        direction=\"column\"\n        alignItems=\"center\"\n        justify=\"center\"\n        style={{ minHeight: '100vh' }}\n        className={classes.marginBottom}\n      >\n        <Grid item xs={12}>\n          <ReactMapGL\n            {...viewport}\n            mapboxApiAccessToken={mapBoxToken}\n            onViewportChange={(nextViewport) => setViewport(nextViewport)}\n            mapStyle=\"mapbox://styles/moepii/ckppic7c80e3b17pdh4k1pfvk\"\n            onDblClick={handleAddClick}\n            // transitionDuration=\"50\"\n          >\n            {/* <Geocoder\n              mapboxApiAccessToken={mapBoxToken}\n              onSelected={(viewport) => onSelected(viewport)}\n              viewport={viewport}\n              hideOnSelect={true}\n              value=\"\"\n              position=\"top-left\"\n              // queryParams={params}\n            /> */}\n            {natureSpots.map((spot) => (\n              <div key={spot._id}>\n                <Marker\n                  latitude={spot.lat}\n                  longitude={spot.long}\n                  offsetLeft={-viewport.zoom * 1.5}\n                  offsetTop={-viewport.zoom * 3}\n                >\n                  <Room\n                    style={{\n                      fontSize: viewport.zoom * 3,\n                      color:\n                        spot.user.username === userInfo.username\n                          ? 'tomato'\n                          : 'slateblue',\n                      cursor: 'pointer',\n                    }}\n                    onClick={() =>\n                      handleMarkerClick(spot._id, spot.lat, spot.long)\n                    }\n                  />\n                </Marker>\n                {spot._id === currentPlaceId && (\n                  <Popup\n                    className={classes.comeTop}\n                    latitude={spot.lat}\n                    longitude={spot.long}\n                    closeButton={true}\n                    closeOnClick={false}\n                    anchor=\"right\"\n                    onClose={() => setCurrentPlaceId(null)}\n                  >\n                    <div className={classes.flexColumn}>\n                      <label className={classes.label}>Place</label>\n                      <Box className={classes.textWidth}>\n                        <Typography gutterBottom vairant=\"h5\">\n                          {spot.title}\n                        </Typography>\n                      </Box>\n                      <label className={classes.label}>Review</label>\n                      <Box className={classes.textWidth}>\n                        <Typography\n                          gutterBottom\n                          variant=\"body2\"\n                          color=\"textSecondary\"\n                          component=\"p\"\n                          align=\"left\"\n                        >\n                          {spot.desc.length > 80\n                            ? spot.desc.slice(0, 80) + '...'\n                            : spot.desc}\n                        </Typography>\n                      </Box>\n                      <label className={classes.label}>Rating</label>\n                      <Box component=\"fieldset\" borderColor=\"transparent\">\n                        <Rating\n                          name=\"read-only\"\n                          value={spot.rating}\n                          readOnly\n                          precision={0.1}\n                        />\n                      </Box>\n                      <label className={classes.label}>Infomation</label>\n                      <Box>\n                        <Typography\n                          variant=\"body2\"\n                          color=\"textSecondary\"\n                          component=\"p\"\n                        >\n                          Created by <b>{spot.user.username}</b>\n                        </Typography>\n                        <Typography\n                          variant=\"body2\"\n                          color=\"textSecondary\"\n                          component=\"p\"\n                        >\n                          {format(spot.createdAt)}\n                        </Typography>\n                      </Box>\n                      <Box mt={2}>\n                        <Link\n                          to={{\n                            pathname: `details/${spot._id}`,\n                            state: {\n                              spot,\n                            },\n                          }}\n                          // to={`details/${spot._id}`}\n                          style={{ textDecoration: 'none' }}\n                        >\n                          <Button color=\"secondary\" variant=\"outlined\">\n                            See More\n                          </Button>\n                        </Link>\n                      </Box>\n                    </div>\n                  </Popup>\n                )}\n              </div>\n            ))}\n\n            {newSpot && isUserThere && (\n              <Popup\n                latitude={newSpot.lat}\n                longitude={newSpot.long}\n                closeButton={true}\n                closeOnClick={false}\n                anchor=\"right\"\n                onClose={() => setNewSpot(null)}\n              >\n                <div>\n                  <form className={classes.flexColumn} onSubmit={handleSubmit}>\n                    <label className={classes.label}>Title</label>\n                    <TextField\n                      id=\"outlined-basic\"\n                      label=\"Enter a title\"\n                      variant=\"outlined\"\n                      onChange={(e) => setTitle(e.target.value)}\n                    />\n\n                    <label className={classes.label}>Review</label>\n                    <TextField\n                      id=\"outlined-basic\"\n                      label=\"About this place\"\n                      variant=\"outlined\"\n                      multiline\n                      rows={4}\n                      onChange={(e) => setDesc(e.target.value)}\n                    />\n\n                    {/* <label className={classes.label}>Rating</label>\n                    <Rating\n                      name=\"simple-controlled\"\n                      value={rating}\n                      onChange={(event, newValue) => {\n                        setRating(newValue);\n                      }}\n                    /> */}\n\n                    <Button\n                      className={classes.marginTop}\n                      variant=\"contained\"\n                      color=\"primary\"\n                      type=\"submit\"\n                    >\n                      Add new spot\n                    </Button>\n                  </form>\n                </div>\n              </Popup>\n            )}\n          </ReactMapGL>\n        </Grid>\n        {natureSpots.length > 0 && (\n          <NatureSpotsListCards natureSpots={natureSpots} />\n        )}\n      </Grid>\n    </React.Fragment>\n  );\n}\n","import React from 'react';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useHistory } from 'react-router';\nimport green from '@material-ui/core/colors/green';\nconst useStyles = makeStyles((theme) => ({\n  marginFlex: {\n    marginTop: theme.spacing(2),\n    // marginBottom: theme.spacing(2),\n    marginLeft: theme.spacing(2),\n    display: 'flex',\n    justifyContent: 'flex-start',\n  },\n}));\n\nconst GoBack = () => {\n  const classes = useStyles();\n\n  const history = useHistory();\n\n  const goBack = () => {\n    history.goBack();\n  };\n\n  return (\n    <div className={classes.marginFlex}>\n      <ArrowBackIcon\n        style={{ color: green[500] }}\n        fontSize=\"large\"\n        onClick={goBack}\n      />\n    </div>\n  );\n};\n\nexport default GoBack;\n","export default __webpack_public_path__ + \"static/media/nouploads.f833bcc0.gif\";","import React, { useState, useContext, useEffect } from 'react';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Avatar from '@material-ui/core/Avatar';\nimport { AuthContext } from '../context/AuthContext';\nimport { makeStyles } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\n\nconst useStyle = makeStyles((theme) => ({\n  small: {\n    width: theme.spacing(3),\n    height: theme.spacing(3),\n  },\n}));\n\nexport default function UserHeader({ pic }) {\n  const classes = useStyle();\n  const { userInfo } = useContext(AuthContext);\n  const [currentUser, setCurrentUser] = useState(false);\n\n  const headerContents = (pic) => {\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"flex-start\"\n        alignItems=\"center\"\n        ml={2}\n      >\n        <Box mr={1} mt={1} mb={1}>\n          <Avatar\n            alt={pic.author.username}\n            src={pic.author.avatarUrl}\n            className={classes.small}\n          />\n        </Box>\n        <Box mt={1} mb={1}>\n          <Typography color=\"secondary\">{pic.author.username}</Typography>\n        </Box>\n      </Box>\n    );\n  };\n\n  useEffect(() => {\n    if (pic.author._id === userInfo._id) setCurrentUser(true);\n  }, []);\n\n  return (\n    <Paper>\n      {userInfo.length <= 0 ? (\n        <Box>{headerContents(pic)}</Box>\n      ) : (\n        <React.Fragment>\n          {!currentUser ? (\n            <Link\n              style={{ textDecoration: 'none' }}\n              to={`/otheruser/${pic.author._id}`}\n            >\n              {headerContents(pic)}\n            </Link>\n          ) : (\n            <Link\n              style={{ textDecoration: 'none' }}\n              to={`/mypage/${userInfo._id}`}\n            >\n              {headerContents(pic)}\n            </Link>\n          )}\n        </React.Fragment>\n      )}\n    </Paper>\n  );\n}\n","// 1. import the modules\nimport React, { createContext, useState } from 'react';\n\n// 2. initialize the context\nconst initMyPicFavPicContext = {\n  myPicsArr: [],\n  favPicsArr: [],\n};\n// 3. create context\nexport const MyPicFavPicContext = createContext(initMyPicFavPicContext);\n\n// 4. make provider => value / children\nexport const MyPicFavPicProvider = ({ children }) => {\n  const [myPicsArr, setMyPicsArr] = useState(initMyPicFavPicContext.myPicsArr);\n  const [favPicsArr, setFavPicsArr] = useState(\n    initMyPicFavPicContext.favPicsArr\n  );\n\n  return (\n    <MyPicFavPicContext.Provider\n      value={{\n        myPicsArr,\n        setMyPicsArr,\n        favPicsArr,\n        setFavPicsArr,\n      }}\n    >\n      {children}\n    </MyPicFavPicContext.Provider>\n  );\n};\n","import React, { useContext } from 'react';\nimport axios from 'axios';\nimport { AuthContext } from '../context/AuthContext';\nimport { FavSavContext } from '../context/FavSavContext';\nimport { PicsArrContext } from '../context/PicsArrContext';\nimport { MyPicFavPicContext } from '../context/MyPicFavPicContext';\nimport { makeStyles } from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\nimport CardActions from '@material-ui/core/CardActions';\nimport IconButton from '@material-ui/core/IconButton';\nimport red from '@material-ui/core/colors/red';\nimport teal from '@material-ui/core/colors/teal';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport BookmarkBorderIcon from '@material-ui/icons/BookmarkBorder';\nimport BookmarkIcon from '@material-ui/icons/Bookmark';\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\nimport Typography from '@material-ui/core/Typography';\nimport { useLocation } from 'react-router-dom';\nconst serverURL = require('../config').serverURL;\n\nconst useStyle = makeStyles(() => ({\n  action: {\n    padding: '0px !important',\n  },\n}));\n\nexport default function FavSav({ pic }) {\n  const classes = useStyle();\n  const location = useLocation();\n  const { userInfo } = useContext(AuthContext);\n  const {\n    matchedFavIdArr,\n    setMatchedFavIdArr,\n    matchedSaveIdArr,\n    setMatchedSaveIdArr,\n    matchedMyPicIdArr,\n  } = useContext(FavSavContext);\n  const { picturesArr, setPicturesArr } = useContext(PicsArrContext);\n  const { myPicsArr, setMyPicsArr, favPicsArr, setFavPicsArr } = useContext(\n    MyPicFavPicContext\n  );\n\n  // Show favorite or save icon\n  // icon1: If the pic is the user's own pic, he/she cannot like the pic\n  // icon2: If the pic is already liked or saved by the user, show the colored icon (it's able to be unliked or unsaved)\n  // icon3: If the pic is not the user's one and if the user did not like or save it yet, just show the icon that is able to be clicked to like or save\n  const showIcon = (pic, kind) => {\n    const kindObj =\n      kind == 'favorite'\n        ? {\n            icon1: <FavoriteIcon />,\n            icon2: <FavoriteIcon style={{ color: red[500] }} />,\n            icon3: <FavoriteBorderIcon />,\n            showNum: pic.likes,\n            matchedArr: matchedFavIdArr,\n            setMatchedIdArr: setMatchedFavIdArr,\n          }\n        : {\n            icon1: <BookmarkIcon />,\n            icon2: <BookmarkIcon style={{ color: teal[500] }} />,\n            icon3: <BookmarkBorderIcon />,\n            showNum: pic.saved,\n            matchedArr: matchedSaveIdArr,\n            setMatchedIdArr: setMatchedSaveIdArr,\n          };\n\n    if (matchedMyPicIdArr && matchedMyPicIdArr.includes(pic.url)) {\n      return (\n        <IconButton aria-label={`add to ${kind}`} disabled>\n          {kindObj.icon1}\n          <Typography>{kindObj.showNum}</Typography>\n        </IconButton>\n      );\n    } else if (kindObj.matchedArr && kindObj.matchedArr.includes(pic.url)) {\n      return (\n        <IconButton\n          aria-label={`add to ${kind}`}\n          onClick={() => handleFavSav(pic.url, kind)}\n        >\n          {kindObj.icon2}\n          <Typography>{kindObj.showNum}</Typography>\n        </IconButton>\n      );\n    } else {\n      return (\n        <IconButton\n          aria-label={`add to ${kind}`}\n          onClick={() => handleFavSav(pic.url, kind)}\n        >\n          {kindObj.icon3}\n          <Typography>{kindObj.showNum}</Typography>\n        </IconButton>\n      );\n    }\n  };\n\n  const handleFavSav = (picUrl, kind) => {\n    let removeRoute, addRoute, arr, setArr, picObjArr;\n    // When detailed page => picturesArr\n    // WHen mypage (on favorite (myPics cannot be liked or saved))  => favPicsArr\n    picObjArr = picturesArr.length > 0 ? picturesArr : favPicsArr;\n\n    //   Depending on favorite icon or save icon, routes and arr to be manipulated are different\n    if (kind === 'favorite') {\n      removeRoute = 'removefavorite';\n      addRoute = 'addfavorite';\n      arr = matchedFavIdArr;\n      setArr = setMatchedFavIdArr;\n    } else {\n      removeRoute = 'removesaved';\n      addRoute = 'addsaved';\n      arr = matchedSaveIdArr;\n      setArr = setMatchedSaveIdArr;\n    }\n\n    // Function to call post route to either add or remove favorite/save\n    const addremove = async (route) => {\n      let body;\n      if (route == 'addsaved') {\n        body = {\n          natureSpotId: pic.naturespot,\n          userId: userInfo._id,\n          origUrl: pic.url,\n        };\n      } else if (route == 'removesaved') {\n        body = {\n          userId: userInfo._id,\n          origUrl: pic.url,\n        };\n      } else if (route == 'removefavorite') {\n        body = {\n          imageUrl: pic.url,\n          imageId: pic._id,\n          userId: userInfo._id,\n        };\n      } else {\n        body = {\n          imageId: pic._id,\n          userId: userInfo._id,\n        };\n      }\n\n      const postReq = await axios.post(serverURL + `/images/${route}`, body);\n    };\n\n    // arr.includes(picUrl), that means arr includes the id: already liked or saved => make it remove on clicke\n    if (arr.includes(picUrl)) {\n      // post route to remove\n      addremove(removeRoute);\n\n      //   get rid of the id from idArr, so that the icon color changes to grey\n      setArr(arr.filter((id) => id !== picUrl));\n\n      //   find index to decrease the number of the pic obj to show total likes/saved\n      let picObjIndex = picObjArr.findIndex((obj) => obj.url == picUrl);\n\n      //  if arr is matchedFavIdArr, decrease likes\n      if (arr === matchedFavIdArr) {\n        picObjArr[picObjIndex].likes -= 1;\n        //   When on mypage, get rid of the pic as it is unliked, no favorite pic anymore\n        if (location.pathname.includes('/mypage')) {\n          setFavPicsArr(favPicsArr.filter((pic) => pic.url !== picUrl));\n        }\n      } else {\n        picObjArr[picObjIndex].saved -= 1;\n      }\n      // arr.includes(picUrl) == false, that means the user cliked the icon to add favorite or save\n    } else {\n      //   add favorite or save in database (route)\n      addremove(addRoute);\n      //   add to fav/save to show the colored icon\n      setArr((oldArray) => [...oldArray, picUrl]);\n\n      let picObjIndex = picObjArr.findIndex((obj) => obj.url == picUrl);\n\n      if (arr === matchedFavIdArr) {\n        picObjArr[picObjIndex].likes += 1;\n      } else {\n        picObjArr[picObjIndex].saved += 1;\n      }\n    }\n  };\n\n  const handleDelete = async () => {\n    if (location.pathname.includes('/mypage')) {\n      setMyPicsArr(myPicsArr.filter((p) => p.url !== pic.url));\n    } else {\n      setPicturesArr(picturesArr.filter((p) => p.url !== pic.url));\n    }\n\n    const body = {\n      imageId: pic._id,\n      userId: userInfo._id,\n      natureSpotId: pic.naturespot,\n    };\n    const res = await axios.post(serverURL + '/images/deletemypic', body);\n  };\n\n  return (\n    <CardActions disableSpacing className={classes.action}>\n      {showIcon(pic, 'favorite')}\n      {showIcon(pic, 'save')}\n      {matchedMyPicIdArr && matchedMyPicIdArr.includes(pic.url) && (\n        <Box ml={3}>\n          <DeleteOutlineIcon\n            onClick={handleDelete}\n            style={{ color: teal[200] }}\n          />\n        </Box>\n      )}\n    </CardActions>\n  );\n}\n","import React, { useContext, useEffect } from 'react';\nimport NoUploads from '../img/nouploads.gif';\nimport UserHeader from './UserHeader';\nimport FavSav from './FavSav';\nimport Masonry from 'react-masonry-css';\nimport moduleClasses from './styles/Images.module.css';\nimport { makeStyles } from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport { PicsArrContext } from '../context/PicsArrContext';\nimport { AuthContext } from '../context/AuthContext';\n\nconst useStyle = makeStyles((theme) => ({\n  root: {\n    maxWidth: 345,\n  },\n  media: {\n    height: 0,\n    paddingTop: '56.25%', // 16:9\n  },\n}));\n\nexport default function Images() {\n  const classes = useStyle();\n  const { picturesArr } = useContext(PicsArrContext);\n  const { userInfo } = useContext(AuthContext);\n\n  const breakpoints = {\n    default: 3,\n    1100: 4,\n    700: 2,\n  };\n\n  useEffect(() => {\n    console.log(userInfo);\n  }, []);\n\n  return (\n    <Box sx={{ width: 500, height: 450, overflowY: 'scroll' }} m={2}>\n      <Masonry\n        breakpointCols={breakpoints}\n        className={moduleClasses.myMasonryGrid}\n        columnClassName={moduleClasses.myMasonryGridColumn}\n      >\n        {picturesArr.map((pic) => {\n          return (\n            <Card key={pic._id} className={classes.root}>\n              <UserHeader pic={pic} />\n              <CardMedia className={classes.media} image={pic.url} />\n              {userInfo && Object.keys(userInfo).length !== 0 && (\n                <FavSav pic={pic} />\n              )}\n            </Card>\n          );\n        })}\n      </Masonry>\n      {picturesArr.length == 0 && (\n        <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\n          <Typography color=\"secondary\" variant=\"h4\">\n            No Uploads Yet\n          </Typography>\n          <Box mb={10}>\n            <img alt=\"nofavorites\" src={NoUploads} width=\"250\" />\n          </Box>\n        </Box>\n      )}\n    </Box>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/noreview.90eb4a87.gif\";","// 1. import the modules\nimport React, { createContext, useState } from 'react';\n\n// 2. initialize the context\nconst initCommentsContext = {\n  commentsArr: [],\n  ratingsArr: [],\n  avarageRating: null,\n  writeReview: false,\n  writeUpdate: false,\n  clickedIndex: 0,\n};\n// 3. create context\nexport const CommentsContext = createContext(initCommentsContext);\n\n// 4. make provider => value / children\nexport const CommentsProvider = ({ children }) => {\n  const [commentsArr, setCommentsArr] = useState(\n    initCommentsContext.commentsArr\n  );\n  const [ratingsArr, setRatingsArr] = useState(initCommentsContext.ratingsArr);\n  const [avarageRating, setAvarageRating] = useState(\n    initCommentsContext.avarageRating\n  );\n  const [writeReview, setWriteReview] = useState(\n    initCommentsContext.writeReview\n  );\n  const [writeUpdate, setWriteUpdate] = useState(\n    initCommentsContext.writeUpdate\n  );\n  const [clickedIndex, setClickedIndex] = useState(\n    initCommentsContext.clickedIndex\n  );\n\n  return (\n    <CommentsContext.Provider\n      value={{\n        commentsArr,\n        setCommentsArr,\n        ratingsArr,\n        setRatingsArr,\n        avarageRating,\n        setAvarageRating,\n        writeReview,\n        setWriteReview,\n        writeUpdate,\n        setWriteUpdate,\n        clickedIndex,\n        setClickedIndex,\n      }}\n    >\n      {children}\n    </CommentsContext.Provider>\n  );\n};\n","import React, { useContext, useState } from 'react';\nimport axios from 'axios';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Rating from '@material-ui/lab/Rating';\nimport Paper from '@material-ui/core/Paper';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport TextField from '@material-ui/core/TextField';\nimport CloseIcon from '@material-ui/icons/Close';\nimport CreateIcon from '@material-ui/icons/Create';\nimport blue from '@material-ui/core/colors/blue';\nimport { CommentsContext } from '../context/CommentsContext';\nimport { NatureSpotsContext } from '../context/NatureSpotsContext';\nimport { useParams } from 'react-router-dom';\nconst serverURL = require('../config').serverURL;\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    height: '400px',\n    width: '250px',\n  },\n  textField: {\n    width: '300px',\n  },\n}));\n\nexport default function UpdateForm({ comment, index }) {\n  const classes = useStyles();\n  let { spotId } = useParams();\n  const [oldReview, setOldReview] = useState(comment.comment);\n  const [review, setReview] = useState(comment.comment);\n  const [oldRating, setOldRating] = useState(comment.rating);\n  const [rating, setRating] = useState(comment.rating);\n  const {\n    commentsArr,\n    setCommentsArr,\n    avarageRating,\n    setAvarageRating,\n    writeReview,\n    setWriteReview,\n    writeUpdate,\n    setWriteUpdate,\n  } = useContext(CommentsContext);\n  const { natureSpots, setNatureSpots, setNewAdded } = useContext(\n    NatureSpotsContext\n  );\n\n  //   const handleOpen = () => {\n  //     setWriteUpdate(true);\n  //     console.log(index, comment.comment, comment.rating);\n  //   };\n\n  const handleClose = () => {\n    setWriteUpdate(false);\n  };\n\n  const handleSubmit = async (index) => {\n    if (oldReview !== review || oldRating !== rating) {\n      let newArr = [...commentsArr];\n      newArr[index].comment = review;\n      newArr[index].rating = rating;\n      await setCommentsArr(newArr);\n      const getAve = () => {\n        return Number(\n          (\n            newArr.map((c) => c.rating).reduce((a, b) => a + b, 0) /\n            newArr.length\n          ).toFixed(1)\n        );\n      };\n\n      await setAvarageRating(getAve());\n\n      const body = {\n        oldReview: oldReview,\n        oldRating: oldRating,\n        createdAt: comment.createdAt,\n        newReview: review,\n        newRating: rating,\n      };\n      const newComment = await axios.post(\n        serverURL + '/comments/updatecomment',\n        body\n      );\n\n      // update rating in naturespot data\n      const updateRat = {\n        natId: spotId,\n        averageRating: getAve(),\n      };\n      const updatedRating = await axios.post(\n        serverURL + '/naturespots/updaterating',\n        updateRat\n      );\n\n      // update rating in naturespots context (so that user can see updated rating when going back to the page (without fetching ))\n      const indexNat = natureSpots.findIndex((s) => s._id === spotId);\n      let newSpotsArr = [...natureSpots];\n      newSpotsArr[indexNat].rating = getAve();\n      await setNatureSpots(newSpotsArr);\n    }\n    setWriteUpdate(false);\n  };\n\n  return (\n    <React.Fragment>\n      {/* <CreateIcon style={{ color: blue[400] }} onClick={handleOpen} /> */}\n      {writeUpdate && (\n        <Modal\n          aria-labelledby={index}\n          //   aria-describedby=\"transition-modal-description\"\n          className={classes.modal}\n          open={writeUpdate}\n          onClose={handleClose}\n          closeAfterTransition\n          BackdropComponent={Backdrop}\n          BackdropProps={{\n            timeout: 500,\n          }}\n        >\n          <Fade in={writeUpdate} id={index}>\n            <Paper className={classes.paper}>\n              <Box display=\"flex\" justifyContent=\"flex-end\">\n                <Button\n                  color=\"secondary\"\n                  variant=\"outlined\"\n                  startIcon={<CloseIcon />}\n                  onClick={handleClose}\n                >\n                  <Typography variant=\"body2\">Cancel</Typography>\n                </Button>\n              </Box>\n              <Box\n                display=\"flex\"\n                flexDirection=\"column\"\n                alignItems=\"center\"\n                mt={3}\n                id={index}\n              >\n                <Typography variant=\"h4\" color=\"secondary\" id={index}>\n                  Update comment\n                </Typography>\n                <Box m={3} id=\"transition-modal-description\">\n                  <TextField\n                    className={classes.textField}\n                    label=\"Review\"\n                    multiline\n                    rows={6}\n                    defaultValue={comment.comment}\n                    variant=\"outlined\"\n                    onChange={(e) => setReview(e.target.value)}\n                  />\n                </Box>\n                <Box component=\"fieldset\" borderColor=\"transparent\">\n                  <Typography component=\"legend\">Update Rating:</Typography>\n                  <Rating\n                    precision={0.5}\n                    name=\"simple-controlled\"\n                    value={rating}\n                    onChange={(event, newValue) => {\n                      setRating(newValue);\n                    }}\n                  />\n                </Box>\n                <Box mt={2}>\n                  <Button\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    onClick={() => handleSubmit(index)}\n                  >\n                    Update\n                  </Button>\n                </Box>\n              </Box>\n            </Paper>\n          </Fade>\n        </Modal>\n      )}\n    </React.Fragment>\n  );\n}\n","import React, { useContext } from 'react';\nimport axios from 'axios';\nimport UpdateForm from './UpdateForm';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Avatar from '@material-ui/core/Avatar';\nimport StarRateIcon from '@material-ui/icons/StarRate';\nimport amber from '@material-ui/core/colors/amber';\nimport grey from '@material-ui/core/colors/grey';\nimport blue from '@material-ui/core/colors/blue';\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\nimport CreateIcon from '@material-ui/icons/Create';\nimport { AuthContext } from '../context/AuthContext';\nimport { CommentsContext } from '../context/CommentsContext';\nimport { NatureSpotsContext } from '../context/NatureSpotsContext';\nimport { useParams } from 'react-router-dom';\nconst serverURL = require('../config').serverURL;\n\nconst useStyles = makeStyles((theme) => ({\n  small: {\n    width: theme.spacing(3),\n    height: theme.spacing(3),\n  },\n  grey: {\n    color: grey[500],\n  },\n  marginIcon: {\n    marginLeft: '30px',\n  },\n}));\n\nexport default function Comment({ comment, index }) {\n  const classes = useStyles();\n  let { spotId } = useParams();\n  const { userInfo } = useContext(AuthContext);\n  const { natureSpots, setNatureSpots, setNewAdded } = useContext(\n    NatureSpotsContext\n  );\n  const {\n    commentsArr,\n    setCommentsArr,\n    avarageRating,\n    setAvarageRating,\n    writeReview,\n    setWriteReview,\n    writeUpdate,\n    setWriteUpdate,\n    clickedIndex,\n    setClickedIndex,\n  } = useContext(CommentsContext);\n\n  const handleDelete = async () => {\n    const newArr = commentsArr.filter(\n      (c) => c.comment !== comment.comment && c.createdAt !== comment.createdAt\n    );\n    await setCommentsArr(newArr);\n\n    const newAve = Number(\n      (\n        newArr.map((c) => c.rating).reduce((a, b) => a + b, 0) / newArr.length\n      ).toFixed(1)\n    );\n    await setAvarageRating(newAve);\n\n    const body = {\n      comment: comment.comment,\n      createdAt: comment.createdAt,\n    };\n    const res = await axios.post(serverURL + '/comments/deletecomment', body);\n\n    // update rating in naturespots context (so that user can see updated rating when going back to the page (without fetching ))\n    const indexNat = natureSpots.findIndex((s) => s._id === spotId);\n    let newSpotsArr = [...natureSpots];\n    newSpotsArr[indexNat].rating = newAve;\n    await setNatureSpots(newSpotsArr);\n  };\n\n  const handleOpen = () => {\n    setWriteUpdate(true);\n    setClickedIndex(index);\n  };\n\n  return (\n    <Box>\n      <Box display=\"flex\">\n        <Avatar\n          alt={comment.author.username}\n          src={comment.author.avatarUrl}\n          className={classes.small}\n        />\n        <Box ml={1}>\n          <Typography color=\"secondary\" variant=\"body2\">\n            {comment.author.username}\n          </Typography>\n        </Box>\n        <Box ml={2} display=\"flex\">\n          <StarRateIcon style={{ color: amber[600] }} />\n          <Typography color=\"secondary\" variant=\"body2\">\n            {comment.rating}\n          </Typography>\n        </Box>\n        <Box ml={5}>\n          <Typography variant=\"body2\" className={classes.grey}>\n            {comment.createdAt.substring(0, 10)}\n          </Typography>\n        </Box>\n      </Box>\n      <Typography variant=\"body2\">{comment.comment}</Typography>\n      {comment.author._id === userInfo._id && (\n        <Box display=\"flex\" justifyContent=\"flex-end\">\n          <CreateIcon style={{ color: blue[400] }} onClick={handleOpen} />\n          {/* <UpdateForm comment={comment} index={index} /> */}\n          <Box className={classes.marginIcon}>\n            <DeleteOutlineIcon\n              style={{ color: grey[400] }}\n              onClick={handleDelete}\n            />\n          </Box>\n        </Box>\n      )}\n    </Box>\n  );\n}\n","import React, { useState, useContext } from 'react';\nimport axios from 'axios';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AuthContext } from '../context/AuthContext';\nimport { CommentsContext } from '../context/CommentsContext';\nimport { NatureSpotsContext } from '../context/NatureSpotsContext';\nimport Rating from '@material-ui/lab/Rating';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nconst serverURL = require('../config').serverURL;\n\nconst useStyles = makeStyles((theme) => ({\n  textField: {\n    width: '300px',\n  },\n}));\n\nexport default function CommentForm({ spot }) {\n  const classes = useStyles();\n  const [review, setReview] = useState(null);\n  const [rating, setRating] = useState(3);\n  const { userInfo } = useContext(AuthContext);\n  const {\n    commentsArr,\n    setCommentsArr,\n    avarageRating,\n    setAvarageRating,\n    writeReview,\n    setWriteReview,\n  } = useContext(CommentsContext);\n  const { natureSpots, setNatureSpots, setNewAdded } = useContext(\n    NatureSpotsContext\n  );\n\n  const submitForm = async () => {\n    console.log(review, rating, userInfo._id, spot._id);\n    const body = {\n      naturespot: spot._id,\n      author: userInfo._id,\n      comment: review,\n      rating: rating,\n    };\n    const newComment = await axios.post(\n      serverURL + '/comments/newcomment',\n      body\n    );\n\n    //   Add new comment to the array in context\n    const newComToShow = {\n      naturespot: spot._id,\n      author: {\n        avatarUrl: userInfo.avatarUrl,\n        username: userInfo.username,\n        _id: userInfo._id,\n      },\n      comment: review,\n      rating: rating,\n      createdAt: new Date().toISOString(),\n    };\n    await setCommentsArr((oldArr) =>\n      [...oldArr.reverse(), newComToShow].reverse()\n    );\n    const newArr = [...commentsArr, newComToShow];\n\n    //   get average rating\n    const getAve = () => {\n      return Number(\n        (\n          newArr.map((c) => c.rating).reduce((a, b) => a + b, 0) / newArr.length\n        ).toFixed(1)\n      );\n    };\n    await setAvarageRating(getAve());\n\n    //   Update naturespot rating\n    const updateRat = {\n      natId: spot._id,\n      averageRating: getAve(),\n    };\n    const updatedRating = await axios.post(\n      serverURL + '/naturespots/updaterating',\n      updateRat\n    );\n\n    // update rating in naturespots context (so that user can see updated rating when going back to the page (without fetching ))\n    const indexNat = natureSpots.findIndex((s) => s._id === spot._id);\n    let newSpotsArr = [...natureSpots];\n    newSpotsArr[indexNat].rating = getAve();\n    await setNatureSpots(newSpotsArr);\n\n    await setWriteReview(false);\n  };\n\n  return (\n    <Box\n      display=\"flex\"\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n    >\n      <Box m={2} mt={4}>\n        <Typography variant=\"h4\"> Review Form</Typography>\n      </Box>\n      <TextField\n        className={classes.textField}\n        id=\"outlined-multiline-static\"\n        label=\"Review\"\n        multiline\n        rows={6}\n        defaultValue=\"Write here\"\n        variant=\"outlined\"\n        onChange={(e) => setReview(e.target.value)}\n      />\n      <Box component=\"fieldset\" mt={3} borderColor=\"transparent\">\n        <Typography component=\"legend\">Give Rating:</Typography>\n        <Rating\n          precision={0.5}\n          name=\"simple-controlled\"\n          value={rating}\n          onChange={(event, newValue) => {\n            setRating(newValue);\n          }}\n        />\n      </Box>\n      <Box mt={2}>\n        <Button variant=\"contained\" color=\"primary\" onClick={submitForm}>\n          Submit\n        </Button>\n      </Box>\n    </Box>\n  );\n}\n","import React, { useState, useEffect, useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport NoReview from '../img/noreview.gif';\nimport Comment from './Comment';\nimport UpdateForm from './UpdateForm';\nimport CommentForm from './CommentForm';\nimport axios from 'axios';\nimport Rating from '@material-ui/lab/Rating';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport amber from '@material-ui/core/colors/amber';\nimport CreateIcon from '@material-ui/icons/Create';\nimport CloseIcon from '@material-ui/icons/Close';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport { CommentsContext } from '../context/CommentsContext';\nimport { AuthContext } from '../context/AuthContext';\nimport { Link } from 'react-router-dom';\nconst serverURL = require('../config').serverURL;\n\nconst useStyles = makeStyles((theme) => ({\n  new: {\n    marginTop: theme.spacing(5),\n  },\n}));\n\nexport default function RevContents({ spot }) {\n  const classes = useStyles();\n  const [loading, setLoading] = useState(true);\n  const { userInfo } = useContext(AuthContext);\n  const {\n    commentsArr,\n    setCommentsArr,\n    avarageRating,\n    setAvarageRating,\n    writeReview,\n    setWriteReview,\n    clickedIndex,\n  } = useContext(CommentsContext);\n\n  const openWriteReview = () => {\n    writeReview ? setWriteReview(false) : setWriteReview(true);\n  };\n\n  useEffect(async () => {\n    const res = await axios.get(serverURL + `/comments/${spot._id}`);\n    await setCommentsArr(res.data.reverse());\n    console.log(res.data);\n    const sumRating = res.data.map((c) => c.rating).reduce((a, b) => a + b, 0);\n    const average = sumRating / res.data.length;\n    setAvarageRating(Number(average.toFixed(1)));\n    setLoading(false);\n  }, []);\n\n  return (\n    <div>\n      <Box display=\"flex\" justifyContent=\"space-around\">\n        <Box>\n          <Typography color=\"secondary\" variant=\"h4\">\n            Reviews\n          </Typography>\n          <Typography color=\"primary\" variant=\"body2\">\n            {spot.title}\n          </Typography>\n          {!loading && commentsArr.length > 0 && (\n            <Box display=\"flex\">\n              <Rating\n                precision={0.1}\n                name=\"read-only\"\n                value={avarageRating}\n                readOnly\n              />\n              <Typography color=\"secondary\">{avarageRating}</Typography>\n            </Box>\n          )}\n        </Box>\n\n        {userInfo && Object.keys(userInfo).length !== 0 && (\n          <Box className={classes.new}>\n            {!writeReview ? (\n              <Button\n                color=\"secondary\"\n                variant=\"outlined\"\n                startIcon={<CreateIcon />}\n                onClick={openWriteReview}\n              >\n                <Typography variant=\"body2\">New</Typography>\n              </Button>\n            ) : (\n              <Button\n                color=\"secondary\"\n                variant=\"outlined\"\n                startIcon={<CloseIcon />}\n                onClick={openWriteReview}\n              >\n                <Typography variant=\"body2\">Cancel</Typography>\n              </Button>\n            )}\n          </Box>\n        )}\n      </Box>\n      {!writeReview && (\n        <React.Fragment>\n          {!loading &&\n            commentsArr &&\n            commentsArr.map((comment, index) => (\n              <Box mt={4} key={comment._id}>\n                <Comment key={comment._id} comment={comment} index={index} />\n              </Box>\n            ))}\n          {!loading && commentsArr.length > 0 && (\n            <React.Fragment>\n              <UpdateForm\n                comment={commentsArr[clickedIndex]}\n                index={clickedIndex}\n              />\n            </React.Fragment>\n          )}\n          {!loading && commentsArr.length == 0 && (\n            <Box\n              display=\"flex\"\n              alignItems=\"center\"\n              flexDirection=\"column\"\n              mt={1}\n            >\n              {userInfo && Object.keys(userInfo).length !== 0 && (\n                <Box ml={17} mb={2}>\n                  <ArrowUpwardIcon\n                    style={{ color: amber[400], fontSize: 60 }}\n                  />\n                </Box>\n              )}\n              <Typography color=\"secondary\" variant=\"h4\">\n                No Reviews Yet\n              </Typography>\n              <Box mt={2}>\n                <Typography color=\"secondary\" variant=\"h5\">\n                  Write a new review!\n                </Typography>\n              </Box>\n              <Box>\n                <img alt=\"no reviews\" src={NoReview} width=\"250\" />\n              </Box>\n              {userInfo && Object.keys(userInfo).length == 0 && (\n                <Link to=\"/login\" style={{ textDecoration: 'none' }}>\n                  <Box mt={2}>\n                    <Button variant=\"outlined\" color=\"secondary\">\n                      Login\n                    </Button>\n                  </Box>\n                </Link>\n              )}\n            </Box>\n          )}\n        </React.Fragment>\n      )}\n\n      {writeReview && <CommentForm spot={spot} />}\n    </div>\n  );\n}\n","import React, { useEffect, useContext } from 'react';\nimport ComContents from './ComContents';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { CommentsContext } from '../context/CommentsContext';\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    height: '500px',\n    width: '300px',\n  },\n}));\n\nexport default function Comments({ spot }) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const { setWriteReview } = useContext(CommentsContext);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setWriteReview(false);\n  };\n\n  useEffect(() => {\n    console.log(spot);\n  }, []);\n\n  return (\n    <Box>\n      <Button variant=\"outlined\" onClick={handleOpen}>\n        Reviews\n      </Button>\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={open}\n        onClose={handleClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open}>\n          <Paper\n            className={classes.paper}\n            style={{ maxHeight: 500, overflow: 'auto' }}\n          >\n            <Box display=\"flex\" justifyContent=\"flex-end\">\n              <CloseIcon onClick={handleClose} />\n            </Box>\n            <ComContents spot={spot} />\n          </Paper>\n        </Fade>\n      </Modal>\n    </Box>\n  );\n}\n","import React, { useState, useContext, useEffect } from 'react';\nimport axios from 'axios';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport Card from '@material-ui/core/Card';\nimport grey from '@material-ui/core/colors/grey';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport IconButton from '@material-ui/core/IconButton';\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\nimport { PicsArrContext } from '../context/PicsArrContext';\nimport { FavSavContext } from '../context/FavSavContext';\nconst serverURL = require('../config').serverURL;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n  input: {\n    display: 'none',\n  },\n  card: { width: '320px' },\n  media: {\n    height: 0,\n    paddingTop: '56.25%', // 16:9\n  },\n  cancel: {\n    color: grey[400],\n  },\n}));\n\nexport default function UploadButton({ natureId, userInfo }) {\n  const classes = useStyles();\n  const [uploaded, setUploaded] = useState(false);\n  const [preview, setPreview] = useState(false);\n  const [file, setFile] = useState(null);\n  const [fileToSend, setFileToSend] = useState(null);\n  const { picturesArr, setPicturesArr } = useContext(PicsArrContext);\n  const { matchedMyPicIdArr, setMatchedMyPicIdArr } = useContext(FavSavContext);\n\n  const handleFile = async (event) => {\n    setFile(URL.createObjectURL(event.target.files[0]));\n    setFileToSend(event.target.files);\n    setPreview(true);\n  };\n\n  const uploadImg = async (url) => {\n    setPreview(false);\n    const body = {\n      url: url,\n      natureId: natureId,\n      authorId: userInfo._id,\n    };\n    const postReq = await axios.post(serverURL + `/images/uploadimage`, body);\n    const newPostObj = postReq.data.newImage;\n    newPostObj.author = {\n      avatarUrl: userInfo.avatarUrl,\n      username: userInfo.username,\n      _id: userInfo._id,\n    };\n    await setPicturesArr((oldArr) => [...oldArr, newPostObj].reverse());\n    await setMatchedMyPicIdArr((oldArr) => [...oldArr, url]);\n  };\n\n  const submitFile = async () => {\n    try {\n      if (!fileToSend) {\n        throw new Error('Select a file first!');\n      }\n      const formData = new FormData();\n      formData.append('file', fileToSend[0]);\n      const res = await axios.post(serverURL + `/aws/upload`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      console.log(res.data.Location);\n      // post req to upload photo\n      await uploadImg(res.data.Location);\n      console.log('success');\n      // handle success\n    } catch (error) {\n      console.log('upload failed');\n      // handle error\n    }\n  };\n\n  const cancel = () => {\n    setFile(null);\n    setFileToSend(null);\n    setPreview(false);\n  };\n\n  useState(() => {\n    console.log(userInfo && Object.keys(userInfo).length === 0);\n  }, []);\n\n  return (\n    <div className={classes.root}>\n      {!preview && userInfo && Object.keys(userInfo).length !== 0 && (\n        <Box mt={5}>\n          <input\n            accept=\"image/*\"\n            style={{ display: 'none' }}\n            id=\"raised-button-file\"\n            multiple\n            type=\"file\"\n            onChange={(e) => handleFile(e)}\n          />\n          <label htmlFor=\"raised-button-file\">\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              component=\"span\"\n              startIcon={<PhotoCamera />}\n            >\n              Upload\n            </Button>\n          </label>\n        </Box>\n      )}\n      {preview && (\n        <Box m={3}>\n          <Typography color=\"secondary\" variant=\"h5\">\n            Preview\n          </Typography>\n          <Box display=\"flex\" justifyContent=\"center\">\n            <Card className={classes.card}>\n              <CardMedia className={classes.media} image={file} />\n            </Card>\n          </Box>\n          <Box m={2} display=\"flex\" justifyContent=\"space-around\">\n            <Button\n              className={classes.cancel}\n              variant=\"outlined\"\n              onClick={cancel}\n            >\n              Cancel\n            </Button>\n            <Button variant=\"outlined\" color=\"secondary\" onClick={submitFile}>\n              Submit\n            </Button>\n          </Box>\n        </Box>\n      )}\n    </div>\n  );\n}\n","import React, { useEffect, useState, useContext } from 'react';\nimport axios from 'axios';\nimport GoBack from '../components/GoBack';\nimport Images from '../components/Images';\nimport Comments from '../components/Comments';\nimport UploadButton from '../components/UploadButton';\nimport ReactMapGL, { Marker } from 'react-map-gl';\nimport AppBarComponent from '../components/AppBarComponent';\nimport Typography from '@material-ui/core/Typography';\nimport { useLocation } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport Room from '@material-ui/icons/Room';\nimport IconButton from '@material-ui/core/IconButton';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport { AuthContext } from '../context/AuthContext';\nimport { FavSavContext } from '../context/FavSavContext';\nimport { PicsArrContext } from '../context/PicsArrContext';\nconst serverURL = require('../config').serverURL;\n\nconst mapBoxToken = process.env.REACT_APP_MAPBOX_TOKEN;\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    flexGrow: 1,\n    width: '100vw',\n    height: '100vh',\n  },\n  boxWidth: {\n    width: '300px',\n    display: 'flex',\n  },\n  center: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n}));\n\nexport default function SpotDetails() {\n  const classes = useStyles();\n  const location = useLocation();\n  const { userInfo, setUserInfo } = useContext(AuthContext);\n  const { spot } = location.state;\n  const {\n    setMatchedFavIdArr,\n    setMatchedSaveIdArr,\n    setMatchedMyPicIdArr,\n  } = useContext(FavSavContext);\n  const {\n    setNaturespot,\n    picturesArr,\n    setPicturesArr,\n    setPicsIdArr,\n  } = useContext(PicsArrContext);\n  const [hideDesc, setHideDesc] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  const [viewport, setViewport] = useState({\n    width: 350,\n    height: 200,\n    latitude: spot.lat,\n    longitude: spot.long,\n    zoom: 11,\n  });\n\n  const longDesc = spot.desc.length > 200 ? true : false;\n  const displayDesc =\n    spot.desc.length > 100 ? spot.desc.slice(0, 100) + '...' : spot.desc;\n\n  const showMoreDesc = () => {\n    hideDesc ? setHideDesc(false) : setHideDesc(true);\n  };\n\n  const getUserInfo = async () => {\n    const token = window.localStorage.getItem('token');\n    if (token !== null) {\n      const config = {\n        headers: { Authorization: `Bearer ${token}` },\n      };\n      const res = await axios.get(serverURL + `/users/profile`, config);\n      setUserInfo(res.data);\n      return res.data;\n    }\n  };\n\n  useEffect(async () => {\n    const userData = await getUserInfo();\n    await setPicturesArr([]);\n    if (longDesc) {\n      setHideDesc(true);\n    }\n    setNaturespot(spot._id);\n    const res = await axios.get(serverURL + `/images/${spot._id}`);\n    await setPicturesArr(res.data.reverse());\n    await setPicsIdArr(res.data.map((p) => p.url));\n\n    if (userData) {\n      console.log(userData);\n      if (userData.favoritePics) {\n        await setMatchedFavIdArr(\n          res.data\n            .map((p) => p.url)\n            .filter((url) =>\n              userData.favoritePics.map((p) => p.url).includes(url)\n            )\n        );\n      }\n      if (userData.savedPics) {\n        const savedIds = userData.savedPics.map((obj) => obj.originalImage);\n        console.log(savedIds);\n        await setMatchedSaveIdArr(\n          res.data.map((p) => p.url).filter((url) => savedIds.includes(url))\n        );\n      }\n      if (userData.myPics) {\n        await setMatchedMyPicIdArr(\n          res.data\n            .map((p) => p.url)\n            .filter((url) => userData.myPics.map((p) => p.url).includes(url))\n        );\n      }\n    }\n\n    setLoading(false);\n  }, []);\n\n  return (\n    <div className={classes.root}>\n      <AppBarComponent />\n      <GoBack />\n      <Grid container>\n        <Grid item xs={12}>\n          <Typography color=\"secondary\" variant=\"h3\">\n            {spot.title}\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <Box className={classes.center} mt={2}>\n            <ReactMapGL\n              {...viewport}\n              mapboxApiAccessToken={mapBoxToken}\n              onViewportChange={(nextViewport) => setViewport(nextViewport)}\n              mapStyle=\"mapbox://styles/moepii/ckppic7c80e3b17pdh4k1pfvk\"\n              transitionDuration=\"50\"\n            >\n              <Marker\n                latitude={spot.lat}\n                longitude={spot.long}\n                offsetLeft={-viewport.zoom * 1.5}\n                offsetTop={-viewport.zoom * 3}\n              >\n                <Room\n                  style={{\n                    fontSize: viewport.zoom * 3,\n                    color: 'tomato',\n                    cursor: 'pointer',\n                  }}\n                  // onClick={() => handleMarkerClick(spot._id, spot.lat, spot.long)}\n                />\n              </Marker>\n            </ReactMapGL>\n          </Box>\n        </Grid>\n\n        <Box m={2}>\n          <Comments spot={spot} />\n        </Box>\n\n        <Grid item xs={12}>\n          <Box className={classes.center}>\n            <Box className={classes.boxWidth}>\n              {hideDesc ? (\n                <Typography className={classes.maxW} variant=\"body2\">\n                  {displayDesc}\n                </Typography>\n              ) : (\n                <Typography className={classes.maxW} variant=\"body2\">\n                  {spot.desc}\n                </Typography>\n              )}\n\n              {displayDesc.length > 100 && (\n                <Box mt={12} className={classes.noPadding}>\n                  {hideDesc ? (\n                    <IconButton onClick={showMoreDesc}>\n                      <ArrowDownwardIcon fontSize=\"small\" />\n                      <Typography className={classes.maxW} variant=\"body2\">\n                        See more\n                      </Typography>\n                    </IconButton>\n                  ) : (\n                    <IconButton onClick={showMoreDesc}>\n                      <ArrowUpwardIcon fontSize=\"small\" />\n                      <Typography className={classes.maxW} variant=\"body2\">\n                        Hide\n                      </Typography>\n                    </IconButton>\n                  )}\n                </Box>\n              )}\n            </Box>\n          </Box>\n        </Grid>\n        <Grid item xs={12}>\n          <UploadButton natureId={spot._id} userInfo={userInfo} />\n        </Grid>\n      </Grid>\n      {!loading && <Images />}\n    </div>\n  );\n}\n","import React, { useContext } from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport Avatar from '@material-ui/core/Avatar';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport lime from '@material-ui/core/colors/lime';\nimport lightBlue from '@material-ui/core/colors/lightBlue';\nimport teal from '@material-ui/core/colors/teal';\nimport { AuthContext } from '../context/AuthContext';\nimport { Link, useLocation } from 'react-router-dom';\n\nconst useStyles = makeStyles(() => ({\n  lime: { backgroundColor: lime[200], color: teal[800] },\n  lightBlue: { color: teal[700] },\n}));\n\nexport default function ProfileSection() {\n  const { userInfo } = useContext(AuthContext);\n  const location = useLocation();\n  const classes = useStyles();\n\n  return (\n    <div>\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n        <Box mr={2}>\n          <Avatar alt={userInfo.username} src={userInfo.avatarUrl} />\n          <Typography className={classes.lightBlue} variant=\"h5\">\n            {userInfo.username}\n          </Typography>\n        </Box>\n        {location.pathname.includes('/mypage') && (\n          <Box ml={3}>\n            <Link\n              style={{ textDecoration: 'none' }}\n              to={`/updateprofile/${userInfo._id}`}\n            >\n              <Button className={classes.lime} variant=\"contained\">\n                Update Profile\n              </Button>\n            </Link>\n          </Box>\n        )}\n      </Box>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport UserHeader from './UserHeader';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Card from '@material-ui/core/Card';\nimport Box from '@material-ui/core/Box';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\nimport { makeStyles } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nconst serverURL = require('../config').serverURL;\n\nconst useStyle = makeStyles((theme) => ({\n  root: {\n    maxWidth: 345,\n    '&:hover': { boxShadow: '-1px 10px 29px 0px rgba(0,0,0,0.8)' },\n  },\n  media: {\n    height: 0,\n    paddingTop: '56.25%', // 16:9\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[3],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nexport default function PicModal({ pic }) {\n  const classes = useStyle();\n  const [open, setOpen] = useState(false);\n  const [spot, setSpot] = useState(null);\n\n  const handleOpen = async (id) => {\n    setOpen(true);\n    const res = await axios.get(serverURL + `/naturespots/${id}`);\n    setSpot(res.data);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setSpot(null);\n  };\n\n  return (\n    <React.Fragment>\n      <CardMedia\n        className={classes.media}\n        image={pic.url}\n        onClick={() => handleOpen(pic.naturespot._id)}\n      />\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={open}\n        onClose={handleClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open}>\n          <div className={classes.paper}>\n            <Link\n              to={{\n                pathname: `/details/${pic.naturespot._id}`,\n                state: {\n                  spot,\n                },\n              }}\n              style={{ textDecoration: 'none' }}\n            >\n              <Box m={2}>\n                <Button variant=\"outlined\" color=\"secondary\">\n                  <Typography id=\"transition-modal-title\" variant=\"h4\">\n                    {pic.naturespot.title}\n                  </Typography>\n                  <ArrowForwardIcon />\n                </Button>\n              </Box>\n            </Link>\n\n            <Card key={pic._id} className={classes.root}>\n              {'author' in pic && <UserHeader pic={pic} />}\n\n              <CardMedia\n                className={classes.media}\n                image={pic.url}\n                onClick={() => handleOpen(pic.naturespot._id)}\n              />\n              {/* <CardContent>\n                {' '}\n                <Typography variant=\"h5\">{pic.naturespot.title}</Typography>\n              </CardContent> */}\n            </Card>\n          </div>\n        </Fade>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","import React, { useEffect, useContext } from 'react';\nimport { FavSavContext } from '../context/FavSavContext';\nimport { MyPicFavPicContext } from '../context/MyPicFavPicContext';\nimport { PicsArrContext } from '../context/PicsArrContext';\nimport UserHeader from './UserHeader';\nimport PicModal from './PicModal';\nimport FavSav from './FavSav';\nimport Masonry from 'react-masonry-css';\nimport moduleClasses from './styles/Images.module.css';\nimport { makeStyles } from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\nimport Card from '@material-ui/core/Card';\n\nconst useStyle = makeStyles(() => ({\n  root: {\n    maxWidth: 345,\n    '&:hover': { boxShadow: '-1px 10px 29px 0px rgba(0,0,0,0.8)' },\n  },\n}));\n\nexport default function ImgsWithProp({ picsArr }) {\n  const classes = useStyle();\n  const { setMatchedFavIdArr } = useContext(FavSavContext);\n  const { setPicsIdArr } = useContext(PicsArrContext);\n  const { favPicsArr } = useContext(MyPicFavPicContext);\n\n  const breakpoints = {\n    default: 3,\n    1100: 4,\n    700: 2,\n  };\n  useEffect(() => {\n    if (picsArr == favPicsArr) {\n      setPicsIdArr(picsArr.map((pic) => pic.url));\n      setMatchedFavIdArr(favPicsArr.map((pic) => pic.url));\n    }\n  }, []);\n\n  return (\n    <Box sx={{ width: 500, height: 450, overflowY: 'scroll' }} m={2}>\n      <Masonry\n        breakpointCols={breakpoints}\n        className={moduleClasses.myMasonryGrid}\n        columnClassName={moduleClasses.myMasonryGridColumn}\n      >\n        {picsArr.map((pic) => {\n          return (\n            <Card key={pic._id} className={classes.root}>\n              {'author' in pic && <UserHeader pic={pic} />}\n              <PicModal pic={pic} />\n              <FavSav pic={pic} />\n            </Card>\n          );\n        })}\n      </Masonry>\n    </Box>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/nofavorites.c121e4a4.gif\";","import React, { useEffect, useContext } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport { MyPicFavPicContext } from '../context/MyPicFavPicContext';\nimport { FavSavContext } from '../context/FavSavContext';\nimport ImgsWithProp from '../components/ImgsWithProp';\nimport NoUploads from '../img/nouploads.gif';\nimport NoFavs from '../img/nofavorites.gif';\nimport axios from 'axios';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport teal from '@material-ui/core/colors/teal';\nimport { Link } from 'react-router-dom';\nconst serverURL = require('../config').serverURL;\n\nexport default function MyPageImages({ showFavPics }) {\n  const { userInfo } = useContext(AuthContext);\n  const {\n    setSavIdArr,\n    matchedFavIdArr,\n    setMatchedFavIdArr,\n    setMatchedSaveIdArr,\n    setMatchedMyPicIdArr,\n  } = useContext(FavSavContext);\n  const { myPicsArr, setMyPicsArr, favPicsArr, setFavPicsArr } = useContext(\n    MyPicFavPicContext\n  );\n\n  const getUserInfo = async () => {\n    const token = window.localStorage.getItem('token');\n    if (token !== null) {\n      const config = {\n        headers: { Authorization: `Bearer ${token}` },\n      };\n      const res = await axios.get(serverURL + '/users/profile', config);\n\n      return res.data;\n    }\n  };\n\n  useEffect(async () => {\n    const userData = await getUserInfo();\n    const userId = userInfo._id || userData._id;\n    const res = await axios.get(serverURL + `/users/myfavpics/${userId}`);\n    setMyPicsArr(res.data.myPics);\n    setFavPicsArr(res.data.favoritePics);\n\n    setMatchedSaveIdArr(\n      res.data.favoritePics\n        .map((pic) => pic.url)\n        .filter((url) =>\n          userData.savedPics.map((pic) => pic.originalImage).includes(url)\n        )\n    );\n    setMatchedMyPicIdArr(res.data.myPics.map((pic) => pic.url));\n  }, []);\n\n  return (\n    <div>\n      {!showFavPics && (\n        <Box mt={3}>\n          <Typography variant=\"h5\" style={{ color: teal[900] }}>\n            My Nature Pics\n          </Typography>\n          <ImgsWithProp picsArr={myPicsArr} />\n        </Box>\n      )}\n      {!showFavPics && myPicsArr.length == 0 && (\n        <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\n          <Typography color=\"secondary\" variant=\"h4\">\n            No Uploads Yet\n          </Typography>\n          <img alt=\"nomypics\" src={NoUploads} width=\"250\" />\n          <Link style={{ textDecoration: 'none' }} to=\"/naturespots\">\n            <Button variant=\"contained\" color=\"secondary\">\n              Find\n            </Button>\n          </Link>\n          <Box mt={1}>\n            <Typography variant=\"body2\" color=\"secondary\">\n              Find or Create Naturespot <br /> to upload your own pictures\n            </Typography>\n          </Box>\n        </Box>\n      )}\n\n      {showFavPics && (\n        <Box mt={3}>\n          <Typography variant=\"h5\" style={{ color: teal[900] }}>\n            Favorites\n          </Typography>\n          <ImgsWithProp picsArr={favPicsArr} />\n        </Box>\n      )}\n\n      {showFavPics && favPicsArr.length == 0 && (\n        <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\n          <Typography color=\"secondary\" variant=\"h4\">\n            No Favorites Yet\n          </Typography>\n          <img alt=\"nofavorites\" src={NoFavs} width=\"250\" />\n          <Link style={{ textDecoration: 'none' }} to=\"/naturespots\">\n            <Button variant=\"contained\" color=\"secondary\">\n              Find\n            </Button>\n          </Link>\n          <Box mt={1}>\n            <Typography variant=\"body2\" color=\"secondary\">\n              Find Naturespot <br /> to like others' pictures\n            </Typography>\n          </Box>\n        </Box>\n      )}\n    </div>\n  );\n}\n","import React, { useState, useContext } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBarComponent from '../components/AppBarComponent';\nimport ProfileSection from '../components/ProfileSection';\nimport MyPageImages from '../components/MyPageImages';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\nimport Grid from '@material-ui/core/Grid';\nimport green from '@material-ui/core/colors/green';\nimport { AuthContext } from '../context/AuthContext';\n\nconst useStyles = makeStyles(() => ({\n  color: {\n    color: green[600],\n  },\n}));\n\nconst IOSSwitch = withStyles((theme) => ({\n  root: {\n    width: 42,\n    height: 26,\n    padding: 0,\n    margin: theme.spacing(1),\n  },\n  switchBase: {\n    padding: 1,\n    '&$checked': {\n      transform: 'translateX(16px)',\n      color: theme.palette.common.white,\n      '& + $track': {\n        backgroundColor: '#52d869',\n        opacity: 1,\n        border: 'none',\n      },\n    },\n    '&$focusVisible $thumb': {\n      color: '#52d869',\n      border: '6px solid #fff',\n    },\n  },\n  thumb: {\n    width: 24,\n    height: 24,\n  },\n  track: {\n    borderRadius: 26 / 2,\n    border: `1px solid ${theme.palette.info.light}`,\n    backgroundColor: theme.palette.info.light,\n    opacity: 1,\n    transition: theme.transitions.create(['background-color', 'border']),\n  },\n  checked: {},\n  focusVisible: {},\n}))(({ classes, ...props }) => {\n  return (\n    <Switch\n      focusVisibleClassName={classes.focusVisible}\n      disableRipple\n      classes={{\n        root: classes.root,\n        switchBase: classes.switchBase,\n        thumb: classes.thumb,\n        track: classes.track,\n        checked: classes.checked,\n      }}\n      {...props}\n    />\n  );\n});\n\nexport default function MyPage() {\n  const [showFavPics, setFavMyPics] = useState(false);\n  const [myPicsArr, setMyPicsArr] = useState([]);\n  const [favPicsArr, setFavPicsArr] = useState([]);\n  const { userInfo } = useContext(AuthContext);\n  const classes = useStyles();\n\n  const handleChange = (event) => {\n    setFavMyPics(event.target.checked);\n  };\n\n  return (\n    <div>\n      <AppBarComponent />\n      <Box mt={3}>\n        <ProfileSection />\n      </Box>\n      <Box mt={3} display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n        <FormGroup>\n          <Grid component=\"label\" container alignItems=\"center\" spacing={1}>\n            <Grid item>\n              <Typography color=\"primary\">My Pics</Typography>\n            </Grid>\n            <Grid item>\n              <FormControlLabel\n                control={\n                  <IOSSwitch\n                    checked={showFavPics}\n                    onChange={handleChange}\n                    name=\"checkedB\"\n                  />\n                }\n                label=\"Favorites\"\n                className={classes.color}\n              />\n            </Grid>\n          </Grid>\n        </FormGroup>\n      </Box>\n      <MyPageImages showFavPics={showFavPics} />\n    </div>\n  );\n}\n","// 1. import the modules\nimport React, { createContext, useState } from 'react';\n\n// 2. initialize the context\nconst initSavedArrContext = {\n  savedArr: [],\n  spotsArr: [],\n};\n// 3. create context\nexport const SavedArrContext = createContext(initSavedArrContext);\n\n// 4. make provider => value / children\nexport const SavedArrProvider = ({ children }) => {\n  const [savedArr, setSavedArr] = useState(initSavedArrContext.savedArr);\n  const [spotsArr, setSpotsArr] = useState(initSavedArrContext.spotsArr);\n\n  return (\n    <SavedArrContext.Provider\n      value={{\n        savedArr,\n        setSavedArr,\n        spotsArr,\n        setSpotsArr,\n      }}\n    >\n      {children}\n    </SavedArrContext.Provider>\n  );\n};\n","import React, { useEffect } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport cyan from '@material-ui/core/colors/cyan';\nimport { Link } from 'react-router-dom';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\n\nexport default function SavLink({ pic, spot }) {\n  return (\n    <Link\n      to={{\n        pathname: `/details/${pic.natureSpotId}`,\n        state: {\n          spot,\n        },\n      }}\n      style={{ textDecoration: 'none' }}\n    >\n      <Box mt={1} mb={1} display=\"flex\">\n        <Typography color=\"secondary\">{spot.title}</Typography>\n        <ArrowForwardIcon style={{ color: cyan[500] }} />\n      </Box>\n    </Link>\n  );\n}\n","import React, { useContext, useState } from 'react';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport grey from '@material-ui/core/colors/grey';\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport EmojiNatureIcon from '@material-ui/icons/EmojiNature';\nimport Rating from '@material-ui/lab/Rating';\nimport SentimentVerySatisfiedIcon from '@material-ui/icons/SentimentVerySatisfied';\nimport { AuthContext } from '../context/AuthContext';\nimport { SavedArrContext } from '../context/SavedArrContext';\nconst serverURL = require('../config').serverURL;\n\nconst useStyles = makeStyles(() => ({\n  flex: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  card: { width: '320px' },\n  media: {\n    height: 0,\n    paddingTop: '56.25%', // 16:9\n  },\n}));\n\nfunction IconContainer(props) {\n  const { value, ...other } = props;\n  return (\n    <span {...other}>\n      <SentimentVerySatisfiedIcon />\n    </span>\n  );\n}\n\nIconContainer.propTypes = {\n  value: PropTypes.number.isRequired,\n};\n\nexport default function SavFooter({ saved }) {\n  const classes = useStyles();\n  const [preview, setPreview] = useState(false);\n  const [file, setFile] = useState(null);\n  const [fileToSend, setFileToSend] = useState(null);\n  const { userInfo } = useContext(AuthContext);\n  const { savedArr, setSavedArr } = useContext(SavedArrContext);\n\n  const deleteSaved = async (saved) => {\n    setSavedArr(\n      savedArr.filter((s) => s.originalImage !== saved.originalImage)\n    );\n    const body = {\n      userId: userInfo._id,\n      origUrl: saved.originalImage,\n    };\n    const postReq = await axios.post(serverURL + `/images/removesaved`, body);\n  };\n\n  const handleFile = async (event) => {\n    setFile(URL.createObjectURL(event.target.files[0]));\n    setFileToSend(event.target.files);\n    setPreview(true);\n  };\n\n  const uploadImg = async (url) => {\n    setPreview(false);\n    const body = {\n      url: url,\n      user: userInfo._id,\n      picId: saved._id,\n    };\n    const postReq = await axios.post(serverURL + `/users/uploadmatching`, body);\n    await setSavedArr(\n      savedArr.map((item) =>\n        item._id == saved._id ? { ...item, matchedImage: url } : item\n      )\n    );\n  };\n\n  const submitFile = async () => {\n    try {\n      if (!fileToSend) {\n        throw new Error('Select a file first!');\n      }\n      const formData = new FormData();\n      formData.append('file', fileToSend[0]);\n      const res = await axios.post(serverURL + `/aws/upload`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      // post req to upload photo\n      await uploadImg(res.data.Location);\n      console.log('success');\n      // handle success\n    } catch (error) {\n      console.log('upload failed');\n      // handle error\n    }\n    setPreview(false);\n  };\n\n  const cancelUpload = () => {\n    setPreview(false);\n    setFile(null);\n    setFileToSend(null);\n  };\n\n  const reset = () => {\n    setPreview(false);\n    setFile(null);\n    setFileToSend(null);\n  };\n\n  const showIcon = (num) => {\n    if (!preview) {\n      if (saved.matchedImage.length <= 0) {\n        return (\n          <Box className={classes.flex}>\n            <input\n              accept=\"image/*\"\n              style={{ display: 'none' }}\n              id={saved._id}\n              multiple\n              type=\"file\"\n              onClick={reset}\n              onChange={(e) => handleFile(e)}\n            />\n            <label htmlFor={saved._id}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                component=\"span\"\n                startIcon={<PhotoCamera />}\n              >\n                Upload\n              </Button>\n            </label>\n          </Box>\n        );\n      } else if (num < 5) {\n        return (\n          <Box component=\"fieldset\" borderColor=\"transparent\">\n            <Rating\n              name=\"customized-icons\"\n              IconContainerComponent={IconContainer}\n              value={saved.matching.length}\n              readOnly\n            />\n            <Typography color=\"secondary\" variant=\"body2\">\n              Matching accepted: {num}\n            </Typography>\n          </Box>\n        );\n      } else {\n        return (\n          <Box className={classes.flex}>\n            <EmojiNatureIcon color=\"secondary\" />\n            <Typography color=\"secondary\">Matching Accepted!</Typography>{' '}\n            <EmojiNatureIcon color=\"secondary\" />\n          </Box>\n        );\n      }\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <Box mt={2} className={classes.flex}>\n        {showIcon(saved.matching.length)}\n        {!preview && (\n          <DeleteForeverIcon\n            style={{ color: grey[600] }}\n            onClick={() => deleteSaved(saved)}\n          />\n        )}\n      </Box>\n      {preview && (\n        <Box\n          m={3}\n          display=\"flex\"\n          flexDirection=\"column\"\n          justifyContent=\"center\"\n          alignItems=\"center\"\n        >\n          <Typography color=\"secondary\" variant=\"h5\">\n            Preview\n          </Typography>\n          <Card className={classes.card}>\n            <CardMedia className={classes.media} image={file} />\n          </Card>\n          <Box m={2} display=\"flex\" justifyContent=\"space-between\">\n            <Box mt={2} mr={2}>\n              <Button\n                variant=\"outlined\"\n                style={{ color: grey[600] }}\n                onClick={cancelUpload}\n              >\n                Cancel\n              </Button>\n            </Box>\n            <Box mt={2}>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={submitFile}\n              >\n                Submit\n              </Button>\n            </Box>\n          </Box>\n        </Box>\n      )}\n    </React.Fragment>\n  );\n}\n","import React, { useContext, useState, useEffect } from 'react';\nimport SavLink from './SavLink';\nimport axios from 'axios';\nimport SavFooter from './SavFooter';\nimport { SavedArrContext } from '../context/SavedArrContext';\nimport { makeStyles } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nconst serverURL = require('../config').serverURL;\n\nconst useStyles = makeStyles(() => ({\n  cardWidth: {\n    width: '350px',\n  },\n  flexWrap: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  media: {\n    height: 0,\n    paddingTop: '56.25%',\n  },\n}));\n\nexport default function SavMatImg({ pic, index }) {\n  const classes = useStyles();\n  const { spotsArr } = useContext(SavedArrContext);\n  const [yourPic, setYourPic] = useState(false);\n  const [spot, setSpot] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  const togglePics = () => {\n    yourPic ? setYourPic(false) : setYourPic(true);\n  };\n  useEffect(async () => {\n    const res = await axios.get(serverURL + `/naturespots/${pic.natureSpotId}`);\n    setSpot(res.data);\n    setLoading(false);\n  }, []);\n\n  return (\n    <Box m={3} className={classes.cardWidth}>\n      <Card key={pic._id} className={classes.root}>\n        <Paper>\n          <Box\n            display=\"flex\"\n            justifyContent=\"flex-start\"\n            alignItems=\"center\"\n            ml={2}\n          >\n            {!loading && spot && <SavLink pic={pic} spot={spot} />}\n          </Box>\n        </Paper>\n\n        {!yourPic ? (\n          <CardMedia className={classes.media} image={pic.originalImage} />\n        ) : (\n          <CardMedia className={classes.media} image={pic.matchedImage} />\n        )}\n\n        <CardContent>\n          {pic.matchedImage.length > 0 && (\n            <Box>\n              <Box display=\"flex\" justifyContent=\"flex-start\">\n                {!yourPic ? (\n                  <Typography color=\"primary\" variant=\"body2\">\n                    Original Pic{' '}\n                  </Typography>\n                ) : (\n                  <Typography color=\"primary\" variant=\"body2\">\n                    Your Matching Pic\n                  </Typography>\n                )}\n              </Box>\n              <Button variant=\"outlined\" color=\"secondary\" onClick={togglePics}>\n                Flip\n              </Button>\n            </Box>\n          )}\n          <SavFooter saved={pic} />\n        </CardContent>\n      </Card>\n    </Box>\n  );\n}\n","import React from 'react';\nimport SavMatImg from './SavMatImg';\nimport { makeStyles } from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\n\nconst useStyles = makeStyles(() => ({\n  cardWidth: {\n    width: '350px',\n  },\n  flexWrap: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n}));\n\nexport default function SavedMatchImgs({ savedArr }) {\n  const classes = useStyles();\n\n  return (\n    <React.Fragment>\n      <Box className={classes.flexWrap}>\n        {savedArr.map((pic, index) => {\n          return <SavMatImg key={pic._id} pic={pic} index={index} />;\n        })}\n      </Box>\n    </React.Fragment>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/nosaves.2b7d3d6d.gif\";","import React, { useEffect, useContext } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport { SavedArrContext } from '../context/SavedArrContext';\nimport axios from 'axios';\nimport AppBarComponent from '../components/AppBarComponent';\nimport ProfileSection from '../components/ProfileSection';\nimport SavedMatchImgs from '../components/SavedMatchImgs';\nimport NoSaves from '../img/nosaves.gif';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { Link } from 'react-router-dom';\n\nconst serverURL = require('../config').serverURL;\n\nexport default function SavedToMatch() {\n  const { userInfo } = useContext(AuthContext);\n  const { savedArr, setSavedArr, spotsArr, setSpotsArr } = useContext(\n    SavedArrContext\n  );\n\n  const getUserInfo = async () => {\n    const token = window.localStorage.getItem('token');\n    if (token !== null) {\n      const config = {\n        headers: { Authorization: `Bearer ${token}` },\n      };\n      const res = await axios.get(serverURL + '/users/profile', config);\n      return res.data;\n    }\n  };\n\n  useEffect(async () => {\n    const userData = await getUserInfo();\n    const userId = userInfo._id || userData._id;\n    const res = await axios.get(serverURL + `/users/savedpics/${userId}`);\n    await setSavedArr(res.data.savedPics);\n\n    // await setSpotsArr(res.data.savedPics.map());\n    // await res.data.savedPics.forEach(async (s) => {\n    //   const res = await axios.get(`/naturespots/${s.natureSpotId}`);\n    //   console.log(res.data);\n    //   return setSpotsArr((old) => [...old, res.data]);\n    // });\n  }, []);\n\n  return (\n    <div>\n      <AppBarComponent />\n      <Box mt={3}>\n        <ProfileSection />\n      </Box>\n      {savedArr && <SavedMatchImgs savedArr={savedArr} />}\n      {savedArr.length == 0 && (\n        <Box\n          display=\"flex\"\n          flexDirection=\"column\"\n          alignItems=\"center\"\n          mt={5}\n          mb={2}\n        >\n          <Box mb={1}>\n            <Typography color=\"secondary\" variant=\"h4\">\n              No Favorites Yet\n            </Typography>\n            <Box mt={1}>\n              <Typography variant=\"body2\" color=\"secondary\">\n                Save others' pictures for matching photos!\n              </Typography>\n            </Box>\n          </Box>\n          <Box mt={3}>\n            <Link style={{ textDecoration: 'none' }} to=\"/naturespots\">\n              <Button variant=\"contained\" color=\"secondary\">\n                Find\n              </Button>\n            </Link>\n          </Box>\n          <img alt=\"nosaved\" src={NoSaves} width=\"330\" />\n        </Box>\n      )}\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/nomatchings.edd0f422.gif\";","// 1. import the modules\nimport React, { createContext, useState } from 'react';\n\n// 2. initialize the context\nconst initOtherUserContext = {\n  otherUser: {},\n  havMatPicArr: [],\n  giveMatPicArr: [],\n};\n// 3. create context\nexport const OtherUserContext = createContext(initOtherUserContext);\n\n// 4. make provider => value / children\nexport const OtherUserProvider = ({ children }) => {\n  const [otherUser, setOtherUser] = useState(initOtherUserContext.otherUser);\n  const [havMatPicArr, setHavMatPicArr] = useState(\n    initOtherUserContext.havMatPicArr\n  );\n  const [giveMatPicArr, setGiveMatPicArr] = useState(\n    initOtherUserContext.giveMatPicArr\n  );\n\n  return (\n    <OtherUserContext.Provider\n      value={{\n        otherUser,\n        setOtherUser,\n        havMatPicArr,\n        setHavMatPicArr,\n        giveMatPicArr,\n        setGiveMatPicArr,\n      }}\n    >\n      {children}\n    </OtherUserContext.Provider>\n  );\n};\n","import React, { useEffect, useContext } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport { OtherUserContext } from '../context/OtherUserContext';\n\nexport default function OtherUserProfile({ otherUser }) {\n  const { havMatPicArr } = useContext(OtherUserContext);\n\n  return (\n    <Box display=\"flex\" justifyContent=\"space-around\" alignItems=\"center\">\n      <Box m={3} display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n        <Box mr={2}>\n          <Avatar alt={otherUser.username} src={otherUser.avatarUrl} />\n        </Box>\n        <Typography color=\"secondary\">{otherUser.username}</Typography>\n      </Box>\n      <Box>\n        <Typography color=\"primary\">\n          Matching: {havMatPicArr.length} Pics\n        </Typography>\n      </Box>\n    </Box>\n  );\n}\n","import React, { useState, useContext, useEffect } from 'react';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Rating from '@material-ui/lab/Rating';\nimport EmojiNatureIcon from '@material-ui/icons/EmojiNature';\nimport SentimentVerySatisfiedIcon from '@material-ui/icons/SentimentVerySatisfied';\nimport amber from '@material-ui/core/colors/amber';\nimport blue from '@material-ui/core/colors/blue';\nimport { AuthContext } from '../context/AuthContext';\nimport { OtherUserContext } from '../context/OtherUserContext';\nimport { useParams } from 'react-router-dom';\nconst serverURL = require('../config').serverURL;\n\nconst useStyles = makeStyles(() => ({\n  flex: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  card: { width: '320px' },\n  media: {\n    height: 0,\n    paddingTop: '56.25%', // 16:9\n  },\n  amber: {\n    color: amber[700],\n  },\n  blue: {\n    color: blue[600],\n  },\n}));\n\nfunction IconContainer(props) {\n  const { value, ...other } = props;\n  return (\n    <span {...other}>\n      <SentimentVerySatisfiedIcon />\n    </span>\n  );\n}\n\nIconContainer.propTypes = {\n  value: PropTypes.number.isRequired,\n};\n\nexport default function OtherUserFooter({ pic, index }) {\n  const classes = useStyles();\n  const { otherUserId } = useParams();\n  const [toggleGive, setToggleGive] = useState(true);\n  const [hideButton, setHideButton] = useState(false);\n  const {\n    setHavMatPicArr,\n    havMatPicArr,\n    giveMatPicArr,\n    setGiveMatPicArr,\n  } = useContext(OtherUserContext);\n  const { userInfo } = useContext(AuthContext);\n\n  const handleGiveMatching = async (picId, index) => {\n    if (toggleGive) {\n      const arr1 = havMatPicArr[index].matching;\n      const arr2 = arr1.push(userInfo._id);\n      setHavMatPicArr(\n        havMatPicArr.map((item, i) =>\n          i === index\n            ? {\n                ...item,\n                matching: arr1,\n              }\n            : item\n        )\n      );\n      setToggleGive(false);\n      const body = {\n        userToGet: otherUserId,\n        userToGive: userInfo._id,\n        savPicId: picId,\n      };\n      const postReq = await axios.post(serverURL + `/users/givematching`, body);\n    } else {\n      const updatedArr = havMatPicArr[index].matching.filter(\n        (id) => id !== userInfo._id\n      );\n\n      setHavMatPicArr(\n        havMatPicArr.map((item, i) =>\n          i === index ? { ...item, matching: updatedArr } : item\n        )\n      );\n      // console.log(\n      //   updatedArr,\n      //   havMatPicArr.map((item, i) =>\n      //     i === index ? { ...item, matching: updatedArr } : item\n      //   )\n      // );\n      setToggleGive(true);\n      const body = {\n        getBackFrom: otherUserId,\n        userToGetBack: userInfo._id,\n        savPicId: picId,\n      };\n      const postReq = await axios.post(\n        serverURL + `/users/getbackmatching`,\n        body\n      );\n    }\n  };\n\n  const showIcon = (num) => {\n    // if (num == 5) {\n    //   setHideButton(true);\n    // }\n    if (num >= 0 && num < 5) {\n      return (\n        <Box component=\"fieldset\" borderColor=\"transparent\">\n          <Rating\n            name=\"customized-icons\"\n            IconContainerComponent={IconContainer}\n            value={num}\n            readOnly\n          />\n        </Box>\n      );\n    } else {\n      return (\n        <Box className={classes.flex}>\n          <EmojiNatureIcon color=\"secondary\" />\n          <Typography color=\"secondary\">Matching Accepted!</Typography>{' '}\n          <EmojiNatureIcon color=\"secondary\" />\n        </Box>\n      );\n    }\n  };\n  useEffect(() => {\n    const arr = havMatPicArr[index].matching;\n    if (arr.length > 0 && arr.includes(userInfo._id)) {\n      setToggleGive(false);\n    }\n    if (arr.length > 0 && arr.length >= 5) {\n      setHideButton(true);\n    }\n\n    console.log(havMatPicArr[index], arr);\n  }, [toggleGive]);\n\n  return (\n    <Box display=\"flex\" justifyContent=\"space-between\" mt={2}>\n      {showIcon(havMatPicArr.map((pic) => pic.matching)[index].length)}\n      <Box>\n        {!hideButton && (\n          <React.Fragment>\n            {toggleGive ? (\n              <Button\n                color=\"secondary\"\n                variant=\"outlined\"\n                onClick={() => handleGiveMatching(pic._id, index)}\n              >\n                <Typography>Give</Typography>{' '}\n                <SentimentVerySatisfiedIcon style={{ color: amber[700] }} />{' '}\n              </Button>\n            ) : (\n              <Button\n                color=\"primary\"\n                variant=\"outlined\"\n                onClick={() => handleGiveMatching(pic._id, index)}\n              >\n                <Typography>Remove</Typography>{' '}\n                <SentimentVerySatisfiedIcon style={{ color: blue[600] }} />\n              </Button>\n            )}\n          </React.Fragment>\n        )}\n      </Box>\n    </Box>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport SavLink from './SavLink';\nimport axios from 'axios';\nimport OtherUserFooter from './OtherUserFooter';\nimport { makeStyles } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nconst serverURL = require('../config').serverURL;\n\nconst useStyles = makeStyles(() => ({\n  cardWidth: {\n    width: '330px',\n  },\n  flexWrap: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  media: {\n    height: 0,\n    paddingTop: '56.25%',\n  },\n}));\n\nexport default function OtherUserImgs({ pic, index }) {\n  const classes = useStyles();\n  const [spot, setSpot] = useState(null);\n  // const {  } = useContext(SavedArrContext);\n  const [original, setOriginal] = useState(true);\n  const [loading, setLoading] = useState(true);\n\n  const togglePics = () => {\n    original ? setOriginal(false) : setOriginal(true);\n  };\n\n  useEffect(async () => {\n    const res = await axios.get(serverURL + `/naturespots/${pic.natureSpotId}`);\n    setSpot(res.data);\n    setLoading(false);\n  }, []);\n\n  return (\n    <Box m={3} className={classes.cardWidth}>\n      <Card key={pic._id} className={classes.root}>\n        {!loading && (\n          <Paper>\n            <Box\n              display=\"flex\"\n              justifyContent=\"flex-start\"\n              alignItems=\"center\"\n              ml={2}\n            >\n              <SavLink pic={pic} spot={spot} />\n            </Box>\n          </Paper>\n        )}\n\n        {original ? (\n          <CardMedia className={classes.media} image={pic.originalImage} />\n        ) : (\n          <CardMedia className={classes.media} image={pic.matchedImage} />\n        )}\n\n        <CardContent>\n          <Box>\n            <Box display=\"flex\" justifyContent=\"flex-start\">\n              {original ? (\n                <Typography color=\"primary\" variant=\"body2\">\n                  Original Pic{' '}\n                </Typography>\n              ) : (\n                <Typography color=\"primary\" variant=\"body2\">\n                  Matching Pic\n                </Typography>\n              )}\n            </Box>\n            <Button variant=\"outlined\" color=\"secondary\" onClick={togglePics}>\n              Flip\n            </Button>\n          </Box>\n          <OtherUserFooter pic={pic} index={index} />\n        </CardContent>\n      </Card>\n    </Box>\n  );\n}\n","import React, { useEffect, useState, useContext } from 'react';\nimport NoMatchings from '../img/nomatchings.gif';\nimport OtherUserProfile from '../components/OtherUserProfile';\nimport AppBarComponent from '../components/AppBarComponent';\nimport GoBack from '../components/GoBack';\nimport OtherUserImg from '../components/OtherUserImg';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\nimport { OtherUserContext } from '../context/OtherUserContext';\nimport { AuthContext } from '../context/AuthContext';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nconst serverURL = require('../config').serverURL;\n\nexport default function OtherUser() {\n  const { otherUserId } = useParams();\n  const [otherUser, setOtherUser] = useState(null);\n  const { userInfo, setUserInfo } = useContext(AuthContext);\n  const [userId, setUserId] = useState(userInfo._id || null);\n  const {\n    havMatPicArr,\n    setHavMatPicArr,\n    giveMatPicArr,\n    setGiveMatPicArr,\n  } = useContext(OtherUserContext);\n\n  const getUserInfo = async () => {\n    const token = window.localStorage.getItem('token');\n    if (token !== null) {\n      const config = {\n        headers: { Authorization: `Bearer ${token}` },\n      };\n      const res = await axios.get(serverURL + '/users/profile', config);\n      setUserInfo(res.data);\n      await setUserId(res.data._id);\n    }\n  };\n\n  const getOtherUserInfo = async () => {\n    const token = window.localStorage.getItem('token');\n    if (token !== null) {\n      const config = {\n        headers: { Authorization: `Bearer ${token}` },\n      };\n      const res = await axios.get(\n        serverURL + `/users/otheruser/${otherUserId}`,\n        config\n      );\n\n      setOtherUser(res.data);\n      setHavMatPicArr(\n        res.data.savedPics.filter((p) => p.matchedImage.length > 0)\n      );\n      setGiveMatPicArr(\n        res.data.savedPics\n          .filter((p) => p.matching.includes(userId))\n          .map((obj) => obj._id)\n      );\n      // console.log(\n      //   res.data.savedPics.filter((p) => p.matching.includes(userId))\n      // );\n      // console.log(\n      //   res.data.savedPics\n      //     .filter((p) => p.matching.includes(userId))\n      //     .map((obj) => obj._id)\n      // );\n    }\n  };\n\n  useEffect(async () => {\n    await getUserInfo();\n    await getOtherUserInfo();\n  }, []);\n\n  return (\n    <div>\n      <AppBarComponent />\n      <GoBack />\n      {otherUser && <OtherUserProfile otherUser={otherUser} />}\n      {havMatPicArr &&\n        havMatPicArr.map((pic, index) => (\n          <OtherUserImg pic={pic} index={index} />\n        ))}\n      {havMatPicArr && havMatPicArr.length === 0 && (\n        <Box>\n          <Typography variant=\"h4\" color=\"secondary\">\n            The user did not upload any matching pics yet\n          </Typography>\n          <Box mt={3}>\n            <img alt=\"nomatchings\" src={NoMatchings} width=\"250px\" />\n          </Box>\n        </Box>\n      )}\n    </div>\n  );\n}\n","import React, { useRef, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Logo from '../../img/avatar1.png';\nimport Room from '@material-ui/icons/Room';\nimport DefaultAvatar from '../../img/avatar1.png';\nimport Image from '../../img/landing_pic.png';\nimport Button from '@material-ui/core/Button';\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\nimport Box from '@material-ui/core/Box';\nimport HomeIcon from '@material-ui/icons/Home';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\n// import { useAuth } from '../context/AuthContext';\nimport Alert from '@material-ui/lab/Alert';\nimport { Link, useHistory } from 'react-router-dom';\nconst serverURL = require('../../config').serverURL;\n\nconst useStyles = makeStyles((theme) => ({\n  background: {\n    background: ` linear-gradient(\n      rgba(255, 255, 255, 0.7), \n      rgba(255, 255, 255, 0.7)\n    ),url(${Image})`,\n    backgroundSize: 'cover',\n    // height: '100vh',\n    // color: '#f5f5f5',\n  },\n  paper: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    marginTop: theme.spacing(3),\n    width: 60,\n    height: 60,\n    borderRadius: '30px',\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    backgroundColor: '#008B8B',\n    color: 'white',\n    fontSize: '20px',\n  },\n  textColor: {\n    color: '#008B8B',\n  },\n  flex: {\n    display: 'flex',\n    alignItems: 'center',\n    marginBottom: theme.spacing(3),\n  },\n  specialOutline: {\n    borderColor: 'rgb(0, 0, 0, 0.6) !important',\n    borderWidth: 2,\n  },\n  media: {\n    // height: 0,\n    // paddingTop: '56.25%', // 16:9\n    width: '150px',\n    height: '150px',\n    borderRadius: '50%',\n  },\n}));\n\nexport default function Signup() {\n  const emailRef = useRef();\n  const userNameRef = useRef();\n  const passwordRef = useRef();\n  const passwordConfirmRef = useRef();\n  const classes = useStyles();\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [file, setFile] = useState(DefaultAvatar);\n  const [fileToSend, setFileToSend] = useState(DefaultAvatar);\n  const [showCancel, setShowCancel] = useState(false);\n  const history = useHistory();\n\n  const handleFile = async (event) => {\n    setShowCancel(true);\n    setFile(URL.createObjectURL(event.target.files[0]));\n    setFileToSend(event.target.files);\n  };\n\n  const resetAvatar = () => {\n    setShowCancel(false);\n    setFile(DefaultAvatar);\n    setFileToSend(DefaultAvatar);\n  };\n\n  const submitFile = async () => {\n    try {\n      if (!fileToSend) {\n        throw new Error('Select a file first!');\n      }\n      const formData = new FormData();\n      formData.append('file', fileToSend[0]);\n      const res = await axios.post(serverURL + `/aws/upload`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      console.log('success');\n      return res.data.Location;\n    } catch (error) {\n      console.log(error);\n      console.log('upload failed');\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    let avatarUrl;\n    file == DefaultAvatar\n      ? (avatarUrl =\n          'https://naturego.s3.amazonaws.com/bucketFolder/1625515883520.png')\n      : (avatarUrl = await submitFile());\n\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\n      return setError(`Passwords do not match`);\n    }\n\n    const newUser = {\n      username: userNameRef.current.value,\n      email: emailRef.current.value,\n      password: passwordRef.current.value,\n      avatarUrl: avatarUrl,\n    };\n\n    try {\n      await axios.post(serverURL + '/users/register', newUser);\n      setError(``);\n      setLoading(true);\n      console.log('signup form submitted');\n      history.push('/confirmregister');\n    } catch (err) {\n      console.log(err);\n      let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n      if (\n        userNameRef.current.value.length > 0 &&\n        userNameRef.current.value.length <= 3\n      ) {\n        setError('Username must be longer than 3 letters');\n      } else if (!re.test(emailRef.current.value)) {\n        setError('Email must be valid');\n      } else if (passwordRef.current.value.length <= 5) {\n        setError('Password must be longer than 5 letters');\n      } else {\n        setError('Email is already used');\n      }\n    }\n    setLoading(false);\n  };\n\n  return (\n    <div className={classes.background}>\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n          <Box display=\"flex\">\n            <Box mr={3}>\n              <img alt=\"logo\" className={classes.avatar} src={Logo} />\n            </Box>\n            <Box mt={3} mr={2}>\n              <Typography\n                fontWeight=\"fontWeightBold\"\n                component=\"h1\"\n                variant=\"h2\"\n                color=\"secondary\"\n              >\n                Signup\n              </Typography>\n            </Box>\n            <Box>\n              <Room className={classes.avatar} color=\"secondary\" />\n            </Box>\n          </Box>\n\n          <form className={classes.form} onSubmit={handleSubmit} noValidate>\n            <Grid container spacing={2}>\n              <Grid item xs={12}>\n                <Box\n                  mb={2}\n                  display=\"flex\"\n                  flexDirection=\"column\"\n                  alignItems=\"center\"\n                >\n                  <Box>\n                    <img className={classes.media} src={file} />\n                  </Box>\n                  <input\n                    accept=\"image/*\"\n                    style={{ display: 'none' }}\n                    id=\"raised-button-file\"\n                    multiple\n                    type=\"file\"\n                    onChange={(e) => handleFile(e)}\n                  />\n                  <label htmlFor=\"raised-button-file\">\n                    {!showCancel && (\n                      <Button\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        component=\"span\"\n                        startIcon={<PhotoCamera />}\n                      >\n                        Upload\n                      </Button>\n                    )}\n                  </label>\n                  {showCancel && (\n                    <Box m={2}>\n                      <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={resetAvatar}\n                      >\n                        Cancel\n                      </Button>\n                    </Box>\n                  )}\n                  {!showCancel && (\n                    <Box>\n                      <Typography>Upload your Profile Pic</Typography>\n                    </Box>\n                  )}\n                </Box>\n              </Grid>\n              {error && (\n                <Box\n                  ml={10}\n                  display=\"flex\"\n                  justifyContent=\"center\"\n                  alignItems=\"center\"\n                >\n                  <Alert severity=\"error\">{error}</Alert>\n                </Box>\n              )}\n              <Grid item xs={12}>\n                <TextField\n                  InputProps={{\n                    classes: { notchedOutline: classes.specialOutline },\n                  }}\n                  autoComplete=\"uname\"\n                  name=\"userName\"\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  id=\"userName\"\n                  label=\"User Name\"\n                  autoFocus\n                  inputRef={userNameRef}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  InputProps={{\n                    classes: { notchedOutline: classes.specialOutline },\n                  }}\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  id=\"email\"\n                  label=\"Email Address\"\n                  name=\"email\"\n                  autoComplete=\"email\"\n                  inputRef={emailRef}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  InputProps={{\n                    classes: { notchedOutline: classes.specialOutline },\n                  }}\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  name=\"password\"\n                  label=\"Password\"\n                  type=\"password\"\n                  inputRef={passwordRef}\n                  id=\"password\"\n                  autoComplete=\"current-password\"\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  InputProps={{\n                    classes: { notchedOutline: classes.specialOutline },\n                  }}\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  name=\"password-confirm\"\n                  label=\"Password Confirmation\"\n                  type=\"password\"\n                  inputRef={passwordConfirmRef}\n                  id=\"passwordConfirm\"\n                />\n              </Grid>\n            </Grid>\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              className={classes.submit}\n              disabled={loading}\n            >\n              Sign Up\n            </Button>\n            <Grid container justify=\"flex-end\">\n              <Grid item xs={12}>\n                <Link\n                  to=\"/login\"\n                  variant=\"body2\"\n                  style={{ textDecoration: 'none' }}\n                >\n                  <Typography className={classes.textColor} variant=\"h6\">\n                    {' '}\n                    Already have an account? Log in\n                  </Typography>\n                </Link>\n              </Grid>\n              <Grid item>\n                <Link\n                  to=\"/\"\n                  className={classes.flex}\n                  style={{ textDecoration: 'none' }}\n                >\n                  <Button\n                    variant=\"outlined\"\n                    color=\"secondary\"\n                    startIcon={<HomeIcon />}\n                  >\n                    Home\n                  </Button>\n                </Link>\n              </Grid>\n            </Grid>\n          </form>\n        </div>\n      </Container>\n    </div>\n  );\n}\n","import React, { useRef, useState } from 'react';\nimport axios from 'axios';\nimport Image from '../../img/landing_pic.png';\nimport Logo from '../../img/avatar1.png';\nimport Room from '@material-ui/icons/Room';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport HomeIcon from '@material-ui/icons/Home';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Alert from '@material-ui/lab/Alert';\nimport teal from '@material-ui/core/colors/teal';\nimport { Link, useHistory } from 'react-router-dom';\nconst serverURL = require('../../config').serverURL;\n\nconst useStyles = makeStyles((theme) => ({\n  background: {\n    background: ` linear-gradient(\n      rgba(255, 255, 255, 0.7), \n      rgba(255, 255, 255, 0.7)\n    ),url(${Image})`,\n    backgroundSize: 'cover',\n    height: '100vh',\n    // color: '#f5f5f5',\n  },\n  paper: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    marginTop: theme.spacing(3),\n    width: 60,\n    height: 60,\n    borderRadius: '30px',\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    backgroundColor: '#008B8B',\n    color: 'white',\n    fontSize: '20px',\n  },\n  textColor: {\n    color: teal[900],\n  },\n  flex: {\n    display: 'flex',\n    alignItems: 'center',\n    marginBottom: theme.spacing(3),\n  },\n  specialOutline: {\n    borderColor: 'rgb(0, 0, 0, 0.6) !important',\n    borderWidth: 2,\n  },\n}));\n\nexport default function Signup() {\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const classes = useStyles();\n  //   const { login } = useAuth();\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const user = {\n      email: emailRef.current.value,\n      password: passwordRef.current.value,\n    };\n    try {\n      const res = await axios.post(serverURL + '/users/login', user);\n      window.localStorage.setItem('token', res.data.token);\n      if (res.data.token == undefined) {\n        return setError(`Password is wrong`);\n      }\n      setError(``);\n      setLoading(true);\n      history.push('/naturespots');\n      console.log('login submitted');\n    } catch (e) {\n      console.log(e);\n      setError(`Email address or password is wrong`);\n    }\n    setLoading(false);\n  };\n  return (\n    <div className={classes.background}>\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n          <Box display=\"flex\">\n            <Box mr={3}>\n              <img alt=\"logo\" className={classes.avatar} src={Logo} />\n            </Box>\n            <Box mt={3} mr={2}>\n              <Typography\n                fontWeight=\"fontWeightBold\"\n                component=\"h1\"\n                variant=\"h2\"\n                color=\"secondary\"\n              >\n                Login\n              </Typography>\n            </Box>\n            <Box>\n              <Room className={classes.avatar} color=\"secondary\" />\n            </Box>\n          </Box>\n\n          {error && <Alert severity=\"error\">{error}</Alert>}\n          <form className={classes.form} onSubmit={handleSubmit} noValidate>\n            <Grid container spacing={2}>\n              <Grid item xs={12}>\n                <TextField\n                  InputProps={{\n                    classes: { notchedOutline: classes.specialOutline },\n                  }}\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  id=\"email\"\n                  label=\"Email Address\"\n                  name=\"email\"\n                  autoComplete=\"email\"\n                  inputRef={emailRef}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  InputProps={{\n                    classes: { notchedOutline: classes.specialOutline },\n                  }}\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  name=\"password\"\n                  label=\"Password\"\n                  type=\"password\"\n                  inputRef={passwordRef}\n                  id=\"password\"\n                  autoComplete=\"current-password\"\n                />\n              </Grid>\n            </Grid>\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              className={classes.submit}\n              disabled={loading}\n            >\n              Login\n            </Button>\n            <Grid container justify=\"flex-end\">\n              <Grid item xs={12}>\n                <Link\n                  to=\"/signup\"\n                  variant=\"body2\"\n                  style={{ textDecoration: 'none' }}\n                >\n                  <Box m={2}>\n                    <Typography className={classes.textColor} variant=\"h6\">\n                      No account yet? Signup\n                    </Typography>\n                  </Box>\n                </Link>\n                <Link\n                  to=\"/forgotpass\"\n                  variant=\"body2\"\n                  style={{ textDecoration: 'none' }}\n                >\n                  {' '}\n                  <Box m={2}>\n                    <Typography className={classes.textColor} variant=\"h6\">\n                      Forgot Password?\n                    </Typography>\n                  </Box>\n                </Link>\n              </Grid>\n\n              <Grid item>\n                <Box>\n                  <Link\n                    to=\"/\"\n                    className={classes.flex}\n                    style={{ textDecoration: 'none' }}\n                  >\n                    <Button\n                      variant=\"outlined\"\n                      color=\"secondary\"\n                      startIcon={<HomeIcon />}\n                    >\n                      Home\n                    </Button>\n                  </Link>\n                </Box>\n              </Grid>\n            </Grid>\n          </form>\n        </div>\n      </Container>\n    </div>\n  );\n}\n","import React, { useRef, useState, useContext, useEffect } from 'react';\nimport axios from 'axios';\nimport GoBack from '../../components/GoBack';\nimport Typography from '@material-ui/core/Typography';\nimport Image from '../../img/landing_pic.png';\nimport Button from '@material-ui/core/Button';\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\nimport Box from '@material-ui/core/Box';\nimport HomeIcon from '@material-ui/icons/Home';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Alert from '@material-ui/lab/Alert';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link, useHistory } from 'react-router-dom';\nimport { AuthContext } from '../../context/AuthContext';\nconst serverURL = require('../../config').serverURL;\n\nconst useStyles = makeStyles((theme) => ({\n  background: {\n    background: ` linear-gradient(\n      rgba(255, 255, 255, 0.7), \n      rgba(255, 255, 255, 0.7)\n    ),url(${Image})`,\n    backgroundSize: 'cover',\n    // height: '100vh',\n    // color: '#f5f5f5',\n  },\n  paper: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    marginTop: theme.spacing(3),\n    width: 60,\n    height: 60,\n    borderRadius: '30px',\n  },\n  form: {\n    width: '350px',\n    margin: theme.spacing(2),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    backgroundColor: '#008B8B',\n    color: 'white',\n    fontSize: '20px',\n  },\n  textColor: {\n    color: '#008B8B',\n  },\n  flex: {\n    display: 'flex',\n    alignItems: 'center',\n    marginBottom: theme.spacing(3),\n  },\n  specialOutline: {\n    borderColor: 'rgb(0, 0, 0, 0.6) !important',\n    borderWidth: 2,\n  },\n  media: {\n    // height: 0,\n    // paddingTop: '56.25%', // 16:9\n    width: '150px',\n    height: '150px',\n    borderRadius: '50%',\n  },\n}));\n\nexport default function UpdateProfile() {\n  const classes = useStyles();\n  const { userInfo } = useContext(AuthContext);\n  const [user, setUser] = useState(null);\n  const emailRef = useRef();\n  const userNameRef = useRef();\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [file, setFile] = useState(null);\n  const [fileToSend, setFileToSend] = useState(null);\n  const [showCancel, setShowCancel] = useState(false);\n  const history = useHistory();\n\n  const getUserInfo = async () => {\n    const token = window.localStorage.getItem('token');\n    if (token !== null) {\n      const config = {\n        headers: { Authorization: `Bearer ${token}` },\n      };\n      const res = await axios.get(serverURL + '/users/profile', config);\n      setUser(res.data);\n      setFile(res.data.avatarUrl);\n      setFileToSend(res.data.avatarUrl);\n    }\n  };\n\n  useEffect(async () => {\n    await getUserInfo();\n\n    setLoading(false);\n    console.log(user);\n  }, []);\n\n  const handleFile = async (event) => {\n    setShowCancel(true);\n    setFile(URL.createObjectURL(event.target.files[0]));\n    setFileToSend(event.target.files);\n    console.log(event.target.files);\n  };\n\n  const resetAvatar = () => {\n    setShowCancel(false);\n    setFile(user.avatarUrl);\n    setFileToSend(user.avatarUrl);\n  };\n\n  const submitFile = async () => {\n    try {\n      if (!fileToSend) {\n        throw new Error('Select a file first!');\n      }\n      const formData = new FormData();\n      formData.append('file', fileToSend[0]);\n      const res = await axios.post(serverURL + `/aws/upload`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      console.log('success');\n      return res.data.Location;\n    } catch (error) {\n      console.log(error);\n      console.log('upload failed');\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    let avatarUrl;\n    file == user.avatarUrl\n      ? (avatarUrl = user.avatarUrl)\n      : (avatarUrl = await submitFile());\n\n    const username =\n      userNameRef.current.value.length == 0\n        ? user.username\n        : userNameRef.current.value;\n\n    const email =\n      emailRef.current.value.length == 0 ? user.email : emailRef.current.value;\n\n    const updatedUser = {\n      userId: user._id,\n      username: username,\n      email: email,\n      avatarUrl: avatarUrl,\n      oldEmail: user.email,\n    };\n\n    try {\n      await axios.post(serverURL + '/users/updateprofile', updatedUser);\n      setError(``);\n      setLoading(true);\n      console.log('profile updated');\n      history.push(`/mypage/${user._id}`);\n    } catch (err) {\n      console.log(err);\n      let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n      if (username.length > 0 && username.length <= 3) {\n        setError('Username should be longer than 3 letters');\n      } else if (!re.test(email)) {\n        setError('Email should be valid');\n      } else {\n        setError('Email is already used');\n      }\n    }\n    setLoading(false);\n  };\n\n  return (\n    <React.Fragment>\n      <GoBack />\n      <Typography>Update Profile</Typography>\n      {error && <Alert severity=\"error\">{error}</Alert>}\n      {!loading && (\n        <form className={classes.form} onSubmit={handleSubmit} noValidate>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <Box\n                mb={2}\n                display=\"flex\"\n                flexDirection=\"column\"\n                alignItems=\"center\"\n              >\n                <Box>\n                  <img className={classes.media} src={file} />\n                </Box>\n                <input\n                  accept=\"image/*\"\n                  style={{ display: 'none' }}\n                  id=\"raised-button-file\"\n                  multiple\n                  type=\"file\"\n                  onChange={(e) => handleFile(e)}\n                />\n                {!showCancel && (\n                  <label htmlFor=\"raised-button-file\">\n                    <Button\n                      variant=\"contained\"\n                      color=\"secondary\"\n                      component=\"span\"\n                      startIcon={<PhotoCamera />}\n                    >\n                      Change\n                    </Button>\n                  </label>\n                )}\n                {showCancel && (\n                  <Box m={2}>\n                    <Button\n                      variant=\"contained\"\n                      color=\"primary\"\n                      onClick={resetAvatar}\n                    >\n                      Cancel\n                    </Button>\n                  </Box>\n                )}\n              </Box>\n            </Grid>\n            <Box m={2}>\n              <Typography color=\"secondary\">\n                Leave Blank if no changes\n              </Typography>\n            </Box>\n            <Grid item xs={12}>\n              <Box ml={2} display=\"flex\" justifyContent=\"flex-start\">\n                <Typography color=\"primary\">{user.username}</Typography>\n              </Box>\n              <TextField\n                InputProps={{\n                  classes: { notchedOutline: classes.specialOutline },\n                }}\n                autoComplete=\"uname\"\n                name=\"userName\"\n                variant=\"outlined\"\n                fullWidth\n                id=\"userName\"\n                label=\"Username\"\n                autoFocus\n                inputRef={userNameRef}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Box ml={2} display=\"flex\" justifyContent=\"flex-start\">\n                <Typography color=\"primary\">{user.email}</Typography>\n              </Box>\n              <TextField\n                InputProps={{\n                  classes: { notchedOutline: classes.specialOutline },\n                }}\n                variant=\"outlined\"\n                fullWidth\n                id=\"email\"\n                label=\"Email Address\"\n                name=\"email\"\n                autoComplete=\"email\"\n                inputRef={emailRef}\n              />\n            </Grid>\n          </Grid>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            className={classes.submit}\n            disabled={loading}\n          >\n            Update\n          </Button>\n        </form>\n      )}\n    </React.Fragment>\n  );\n}\n","import React from 'react';\nimport ConfirmImg from '../../img/confirm.png';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n  confirm: {\n    width: '100vw',\n    height: '100vh',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#F6F5EB',\n  },\n  imgSize: {\n    width: '350px',\n  },\n}));\n\nexport default function ConfirmReg() {\n  const classes = useStyles();\n  return (\n    <Box className={classes.confirm}>\n      <Box>\n        <Typography variant=\"h3\" color=\"secondary\">\n          Thank you for registering!\n        </Typography>\n      </Box>\n      <img className={classes.imgSize} src={ConfirmImg} />\n      <Box mt={3}>\n        <Link to=\"/login\" style={{ textDecoration: 'none' }}>\n          <Button size=\"large\" variant=\"contained\" color=\"secondary\">\n            <Typography variant=\"h5\">Login</Typography>\n          </Button>\n        </Link>\n      </Box>\n    </Box>\n  );\n}\n","import React, { useState } from 'react';\nimport axios from 'axios';\nimport Logo from '../../img/avatar1.png';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Box from '@material-ui/core/Box';\nimport Avatar from '@material-ui/core/Avatar';\nimport teal from '@material-ui/core/colors/teal';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Image from '../../img/landing_pic.png';\nimport HomeIcon from '@material-ui/icons/Home';\nimport Alert from '@material-ui/lab/Alert';\nimport { Link } from 'react-router-dom';\nconst serverURL = require('../../config').serverURL;\n\nconst useStyles = makeStyles(() => ({\n  background: {\n    background: ` linear-gradient(\n      rgba(255, 255, 255, 0.7), \n      rgba(255, 255, 255, 0.7)\n    ),url(${Image})`,\n    backgroundSize: 'cover',\n    height: '100vh',\n    // color: '#f5f5f5',\n    display: 'flex',\n    justifyContent: 'center',\n  },\n  boxSize: {\n    width: '350px',\n    height: '400px',\n    borderRadius: '10px',\n    backgroundColor: '#f4f4f4',\n  },\n  textField: {\n    width: '300px',\n  },\n  teal900: {\n    color: teal[900],\n    fontWeight: 'bold',\n  },\n}));\n\nexport default function ForgotPass() {\n  const classes = useStyles();\n  const [email, setEmail] = useState(null);\n  const [sent, setSent] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleSubmit = async () => {\n    try {\n      const body = { email: email };\n      const res = await axios.put(serverURL + '/users/forgotpassword', body);\n      setSent(true);\n    } catch (err) {\n      console.log(err);\n      setError(`Email does not exist`);\n    }\n  };\n\n  return (\n    <div className={classes.background}>\n      <Box className={classes.boxSize} mt={10}>\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n          <Box mt={3}>\n            <Avatar alt=\"logo\" src={Logo} />\n          </Box>\n          <Box mt={3} ml={2}>\n            <Typography className={classes.teal900} variant=\"h2\">\n              Nature Go\n            </Typography>\n          </Box>\n        </Box>\n        {error && (\n          <Box mt={2}>\n            <Alert severity=\"error\">{error}</Alert>\n          </Box>\n        )}\n        {!sent && (\n          <React.Fragment>\n            <Box mt={2}>\n              <Typography color=\"secondary\" variant=\"h3\">\n                Reset Password\n              </Typography>\n            </Box>\n            <Box mt={5}>\n              <TextField\n                id=\"filled-basic\"\n                label=\"Please enter your email\"\n                variant=\"filled\"\n                className={classes.textField}\n                onChange={(e) => setEmail(e.target.value)}\n              />\n            </Box>\n            <Box mt={4}>\n              <Button\n                onClick={handleSubmit}\n                variant=\"contained\"\n                color=\"secondary\"\n              >\n                Send Email\n              </Button>\n            </Box>\n            <Box mt={8} ml={20}>\n              <Link\n                to=\"/\"\n                className={classes.flex}\n                style={{ textDecoration: 'none' }}\n              >\n                <Button\n                  variant=\"outlined\"\n                  color=\"secondary\"\n                  startIcon={<HomeIcon />}\n                >\n                  Home\n                </Button>\n              </Link>\n            </Box>\n          </React.Fragment>\n        )}\n        {sent && !error && (\n          <Box mt={4}>\n            <Typography variant=\"h3\" color=\"secondary\">\n              Email sent successfully!\n            </Typography>\n            <Typography variant=\"h5\" color=\"primary\">\n              Please check your email and click the link to change the password.\n            </Typography>\n            <Box\n              mt={1}\n              display=\"flex\"\n              flexDirection=\"column\"\n              alignItems=\"center\"\n            >\n              <Box mb={3}>\n                <Link\n                  to=\"/\"\n                  className={classes.flex}\n                  style={{ textDecoration: 'none' }}\n                >\n                  <Button\n                    variant=\"outlined\"\n                    color=\"secondary\"\n                    startIcon={<HomeIcon />}\n                  >\n                    Home\n                  </Button>\n                </Link>\n              </Box>\n              <Link\n                to=\"/login\"\n                className={classes.flex}\n                style={{ textDecoration: 'none' }}\n              >\n                <Button variant=\"outlined\" color=\"secondary\">\n                  Login\n                </Button>\n              </Link>\n            </Box>\n          </Box>\n        )}\n      </Box>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport axios from 'axios';\nimport Logo from '../../img/avatar1.png';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Box from '@material-ui/core/Box';\nimport Avatar from '@material-ui/core/Avatar';\nimport teal from '@material-ui/core/colors/teal';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Image from '../../img/landing_pic.png';\nimport HomeIcon from '@material-ui/icons/Home';\nimport Alert from '@material-ui/lab/Alert';\nimport { Link, useParams } from 'react-router-dom';\nconst serverURL = require('../../config').serverURL;\n\nconst useStyles = makeStyles(() => ({\n  background: {\n    background: ` linear-gradient(\n      rgba(255, 255, 255, 0.7), \n      rgba(255, 255, 255, 0.7)\n    ),url(${Image})`,\n    backgroundSize: 'cover',\n    height: '100vh',\n    // color: '#f5f5f5',\n    display: 'flex',\n    justifyContent: 'center',\n  },\n  boxSize: {\n    width: '350px',\n    height: '550px',\n    borderRadius: '10px',\n    backgroundColor: '#f4f4f4',\n  },\n  textField: {\n    width: '300px',\n  },\n  teal900: {\n    color: teal[900],\n    fontWeight: 'bold',\n  },\n}));\n\nexport default function ForgotPass() {\n  const classes = useStyles();\n  const [newPass, setNewPass] = useState(null);\n  const [confirmPass, setConfirmPass] = useState(null);\n  const [sent, setSent] = useState(false);\n  const [error, setError] = useState('');\n  let { token } = useParams();\n\n  const handleSubmit = async () => {\n    try {\n      if (newPass !== confirmPass) {\n        return setError('Passwords do not match.');\n      }\n      const body = { resetLink: token, newPass: newPass };\n      const res = await axios.put(serverURL + '/users/resetpassword', body);\n      setError('');\n      setSent(true);\n      console.log(res.data);\n    } catch (err) {\n      console.log(err);\n      setError(`Email does not exist`);\n    }\n  };\n\n  return (\n    <div className={classes.background}>\n      <Box className={classes.boxSize} mt={10}>\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n          <Box mt={3}>\n            <Avatar alt=\"logo\" src={Logo} />\n          </Box>\n          <Box mt={3} ml={2}>\n            <Typography className={classes.teal900} variant=\"h2\">\n              Nature Go\n            </Typography>\n          </Box>\n        </Box>\n        {error && (\n          <Box mt={2}>\n            <Alert severity=\"error\">{error}</Alert>\n          </Box>\n        )}\n        {!sent && (\n          <React.Fragment>\n            <Box mt={3}>\n              <Typography color=\"secondary\" variant=\"h3\">\n                Reset Password\n              </Typography>\n            </Box>\n            <Box mt={5}>\n              <TextField\n                id=\"filled-basic\"\n                label=\"Please input your new password\"\n                variant=\"filled\"\n                className={classes.textField}\n                onChange={(e) => setNewPass(e.target.value)}\n                name=\"password\"\n                type=\"password\"\n              />\n            </Box>\n            <Box mt={3}>\n              <TextField\n                id=\"filled-basic\"\n                label=\"Confirm your new password\"\n                variant=\"filled\"\n                className={classes.textField}\n                onChange={(e) => setConfirmPass(e.target.value)}\n                name=\"confirm-password\"\n                type=\"password\"\n              />\n            </Box>\n            <Box mt={4}>\n              <Button\n                onClick={handleSubmit}\n                variant=\"contained\"\n                color=\"secondary\"\n              >\n                Reset\n              </Button>\n            </Box>\n            <Box mt={4} ml={20}>\n              <Link\n                to=\"/\"\n                className={classes.flex}\n                style={{ textDecoration: 'none' }}\n              >\n                <Button\n                  variant=\"outlined\"\n                  color=\"secondary\"\n                  startIcon={<HomeIcon />}\n                >\n                  Home\n                </Button>\n              </Link>\n            </Box>\n          </React.Fragment>\n        )}\n        {sent && error.length > 0 && (\n          <Box mt={10}>\n            <Typography variant=\"h3\" color=\"secondary\">\n              Successfully Updated!\n            </Typography>\n\n            <Box mt={5}>\n              <Link\n                to=\"/login\"\n                className={classes.flex}\n                style={{ textDecoration: 'none' }}\n              >\n                <Button\n                  variant=\"outlined\"\n                  color=\"secondary\"\n                  startIcon={<HomeIcon />}\n                >\n                  Login\n                </Button>\n              </Link>\n            </Box>\n          </Box>\n        )}\n      </Box>\n    </div>\n  );\n}\n","import './App.css';\nimport {\n  createMuiTheme,\n  ThemeProvider,\n  responsiveFontSizes,\n} from '@material-ui/core/styles';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport PrivateRoute from './components/PrivateRoute';\nimport { teal } from '@material-ui/core/colors';\nimport Home from './views/Home';\nimport NatureSpots from './views/NatureSpots';\nimport SpotDetails from './views/SpotDetails';\nimport MyPage from './views/MyPage';\nimport SavedToMatch from './views/SavedToMatch';\nimport OtherUser from './views/OtherUser';\nimport Signup from './views/Authentication/Signup';\nimport Login from './views/Authentication/Login';\nimport UpdateProfile from './views/Authentication/UpdateProfile';\nimport ConfirmReg from './views/Authentication/ConfirmReg';\nimport ForgotPass from './views/Authentication/ForgotPass';\nimport ResetPass from './views/Authentication/ResetPass';\nimport { AuthProvider } from './context/AuthContext';\nimport { NatureSpotsProvider } from './context/NatureSpotsContext';\nimport { MarkerProvider } from './context/MarkerContext';\nimport { FavSavProvider } from './context/FavSavContext';\nimport { PicsArrProvider } from './context/PicsArrContext';\nimport { MyPicFavPicProvider } from './context/MyPicFavPicContext';\nimport { SavedArrProvider } from './context/SavedArrContext';\nimport { OtherUserProvider } from './context/OtherUserContext';\nimport { CommentsProvider } from './context/CommentsContext';\n\n// context\n\nlet theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: teal[200],\n    },\n    secondary: {\n      main: teal[500],\n    },\n  },\n  typography: {\n    fontFamily: 'Raleway',\n    fontWeightLight: 300,\n    fontWeightRegular: 500,\n    fontWeightMedium: 500,\n    fontWeightBold: 700,\n  },\n});\ntheme = responsiveFontSizes(theme);\n\nfunction App() {\n  return (\n    <ThemeProvider theme={theme}>\n      <div className=\"App\">\n        <Router>\n          <AuthProvider>\n            <NatureSpotsProvider>\n              <MarkerProvider>\n                <PicsArrProvider>\n                  <MyPicFavPicProvider>\n                    <FavSavProvider>\n                      <SavedArrProvider>\n                        <OtherUserProvider>\n                          <CommentsProvider>\n                            <Switch>\n                              <Route exact path=\"/\" children={<Home />} />\n                              <Route\n                                exact\n                                path=\"/naturespots\"\n                                children={<NatureSpots />}\n                              />\n                              <Route\n                                exact\n                                path=\"/details/:spotId\"\n                                children={<SpotDetails />}\n                              />\n                              <PrivateRoute\n                                exact\n                                path=\"/mypage/:userId\"\n                                children={<MyPage />}\n                              />\n                              <PrivateRoute\n                                exact\n                                path=\"/savedtomatch/:userId\"\n                                children={<SavedToMatch />}\n                              />\n                              <PrivateRoute\n                                exact\n                                path=\"/otheruser/:otherUserId\"\n                                children={<OtherUser />}\n                              />\n                              {/* Authentication */}\n                              <Route\n                                exact\n                                path=\"/signup\"\n                                children={<Signup />}\n                              />\n                              <Route exact path=\"/login\" children={<Login />} />\n                              <Route\n                                exact\n                                path=\"/confirmregister\"\n                                children={<ConfirmReg />}\n                              />\n                              <Route\n                                exact\n                                path=\"/forgotpass\"\n                                children={<ForgotPass />}\n                              />\n                              <Route\n                                exact\n                                path=\"/resetpassword/:token\"\n                                children={<ResetPass />}\n                              />\n\n                              <PrivateRoute\n                                exact\n                                path=\"/updateprofile/:id\"\n                                children={<UpdateProfile />}\n                              />\n                            </Switch>\n                          </CommentsProvider>\n                        </OtherUserProvider>\n                      </SavedArrProvider>\n                    </FavSavProvider>\n                  </MyPicFavPicProvider>\n                </PicsArrProvider>\n              </MarkerProvider>\n            </NatureSpotsProvider>\n          </AuthProvider>\n        </Router>\n      </div>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myMasonryGrid\":\"Images_myMasonryGrid__RvckD\",\"myMasonryGridColumn\":\"Images_myMasonryGridColumn__3wDuo\"};"],"sourceRoot":""}